import{S as J,i as U,s as V,a3 as te,j as M,k as S,e as W,t as se,m as F,n as E,c as X,a as Z,g as le,d as h,b as G,o as O,f as w,H as I,I as K,J as oe,_ as j,x as _,u as g,v as R,l as B,r as L,w as Q,M as N,A as fe,a6 as ce,Y as y,Z as C}from"../../chunks/vendor-9a64f523.js";import{F as ne}from"../../chunks/form-8f2710e2.js";import{s as v}from"../../chunks/stores-bd9665ba.js";import{C as ae}from"../../chunks/curriculum-68ed0062.js";import{R as me}from"../../chunks/resultFeedback-6bde5315.js";import{f as pe}from"../../chunks/store-b78dac0d.js";import{B as be}from"../../chunks/breadcrumbPageTitle-3eadeeda.js";import"../../chunks/tabs-ee43e290.js";import"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";/* empty css                                                      */import"../../chunks/show-4b835def.js";const{setTimeout:$}=ce;function x(t){let u,i,c,s,o,a,n,e,r,f,b,k,p,P,m;function T(l){t[8](l)}let D={subSelected:"edit",isOwnProfile:"true"};t[0]!==void 0&&(D.curriculumProfile=t[0]),u=new ae({props:D}),y.push(()=>C(u,"curriculumProfile",T));function ue(l){t[9](l)}let A={};t[3]!==void 0&&(A.alert=t[3]),s=new me({props:A}),y.push(()=>C(s,"alert",ue));function ie(l){t[10](l)}let Y={isEdit:"true"};return t[0]!==void 0&&(Y.curriculumProfile=t[0]),e=new ne({props:Y}),y.push(()=>C(e,"curriculumProfile",ie)),{c(){M(u.$$.fragment),c=S(),M(s.$$.fragment),a=S(),n=W("form"),M(e.$$.fragment),f=S(),b=W("button"),k=se("Curriculum profiel wijzigen"),this.h()},l(l){F(u.$$.fragment,l),c=E(l),F(s.$$.fragment,l),a=E(l),n=X(l,"FORM",{});var d=Z(n);F(e.$$.fragment,d),f=E(d),b=X(d,"BUTTON",{"data-cy":!0,class:!0});var z=Z(b);k=le(z,"Curriculum profiel wijzigen"),z.forEach(h),d.forEach(h),this.h()},h(){b.disabled=t[1],G(b,"data-cy","submit-button"),G(b,"class","mt-4 float-right disabled:opacity-50 ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500")},m(l,d){O(u,l,d),w(l,c,d),O(s,l,d),w(l,a,d),w(l,n,d),O(e,n,null),I(n,f),I(n,b),I(b,k),p=!0,P||(m=K(n,"submit",oe(t[5])),P=!0)},p(l,d){const z={};!i&&d&1&&(i=!0,z.curriculumProfile=l[0],j(()=>i=!1)),u.$set(z);const q={};!o&&d&8&&(o=!0,q.alert=l[3],j(()=>o=!1)),s.$set(q);const H={};!r&&d&1&&(r=!0,H.curriculumProfile=l[0],j(()=>r=!1)),e.$set(H),(!p||d&2)&&(b.disabled=l[1])},i(l){p||(_(u.$$.fragment,l),_(s.$$.fragment,l),_(e.$$.fragment,l),p=!0)},o(l){g(u.$$.fragment,l),g(s.$$.fragment,l),g(e.$$.fragment,l),p=!1},d(l){R(u,l),l&&h(c),R(s,l),l&&h(a),l&&h(n),R(e),P=!1,m()}}}function de(t){let u=!1,i=()=>{u=!1},c,s,o,a,n;te(t[7]);let e=t[4].player&&x(t);return{c(){e&&e.c(),s=B()},l(r){e&&e.l(r),s=B()},m(r,f){e&&e.m(r,f),w(r,s,f),o=!0,a||(n=K(window,"scroll",()=>{u=!0,clearTimeout(c),c=$(i,100),t[7]()}),a=!0)},p(r,[f]){f&4&&!u&&(u=!0,clearTimeout(c),scrollTo(window.pageXOffset,r[2]),c=$(i,100)),r[4].player?e?(e.p(r,f),f&16&&_(e,1)):(e=x(r),e.c(),_(e,1),e.m(s.parentNode,s)):e&&(L(),g(e,1,1,()=>{e=null}),Q())},i(r){o||(_(e),o=!0)},o(r){g(e),o=!1},d(r){e&&e.d(r),r&&h(s),a=!1,n()}}}function ee(){return{success:!1,successMessage:"",error:!1,errorCode:"",errorMessage:""}}function _e(t,u,i){let c;N(t,v,m=>i(4,c=m));let{firebase:s}=u,{curriculumProfile:o}=u,a=!1,n,e,r=ee();async function f(){i(1,a=!0);let m=o;i(3,r=ee());try{let D=await e.collection("curriculumProfile").doc(m.id).set(m);i(3,r.success=!0,r),i(3,r.successTitle="Curriculum profiel gewijzigd",r),i(3,r.successMessage="id: "+m.id,r)}catch(T){i(3,r.error=!0,r),i(3,r.errorCode=T.code,r),i(3,r.errorMessage=T.message,r)}i(2,n=0),setTimeout(()=>{i(1,a=!1)},5e3)}fe(async()=>{e=await s.firestore()});function b(){i(2,n=window.pageYOffset)}function k(m){o=m,i(0,o)}function p(m){r=m,i(3,r)}function P(m){o=m,i(0,o)}return t.$$set=m=>{"firebase"in m&&i(6,s=m.firebase),"curriculumProfile"in m&&i(0,o=m.curriculumProfile)},[o,a,n,r,c,f,s,b,k,p,P]}class ge extends J{constructor(u){super();U(this,u,_e,de,V,{firebase:6,curriculumProfile:0})}}function re(t){let u,i,c,s;function o(e){t[6](e)}function a(e){t[7](e)}let n={};return t[0]!==void 0&&(n.firebase=t[0]),t[1]!==void 0&&(n.curriculumProfile=t[1]),u=new ge({props:n}),y.push(()=>C(u,"firebase",o)),y.push(()=>C(u,"curriculumProfile",a)),{c(){M(u.$$.fragment)},l(e){F(u.$$.fragment,e)},m(e,r){O(u,e,r),s=!0},p(e,r){const f={};!i&&r&1&&(i=!0,f.firebase=e[0],j(()=>i=!1)),!c&&r&2&&(c=!0,f.curriculumProfile=e[1],j(()=>c=!1)),u.$set(f)},i(e){s||(_(u.$$.fragment,e),s=!0)},o(e){g(u.$$.fragment,e),s=!1},d(e){R(u,e)}}}function Pe(t){let u,i,c,s,o;function a(r){t[5](r)}let n={title:"Curriculum profiel wijzigen"};t[3]!==void 0&&(n.breadcrumbs=t[3]),u=new be({props:n}),y.push(()=>C(u,"breadcrumbs",a));let e=t[2]&&re(t);return{c(){M(u.$$.fragment),c=S(),e&&e.c(),s=B()},l(r){F(u.$$.fragment,r),c=E(r),e&&e.l(r),s=B()},m(r,f){O(u,r,f),w(r,c,f),e&&e.m(r,f),w(r,s,f),o=!0},p(r,[f]){const b={};!i&&f&8&&(i=!0,b.breadcrumbs=r[3],j(()=>i=!1)),u.$set(b),r[2]?e?(e.p(r,f),f&4&&_(e,1)):(e=re(r),e.c(),_(e,1),e.m(s.parentNode,s)):e&&(L(),g(e,1,1,()=>{e=null}),Q())},i(r){o||(_(u.$$.fragment,r),_(e),o=!0)},o(r){g(u.$$.fragment,r),g(e),o=!1},d(r){R(u,r),r&&h(c),e&&e.d(r),r&&h(s)}}}function he(t,u,i){let c,s;N(t,v,p=>i(8,c=p)),N(t,pe,p=>i(4,s=p));let o,a,n=!1;async function e(){let p=await o.firestore();if(c.user&&c.player.curriculumProfileId){let P=p.collection("curriculumProfile").doc(c.player.curriculumProfileId),m=await P.get();m.exists&&(i(1,a=m.data()),i(1,a.id=P.id,a))}}let r=[{url:"/curriculum",value:"Curriculum"},{url:"/curriculum-profiel/wijzigen",value:"Curriculum profiel wijzigen"}];function f(p){r=p,i(3,r)}function b(p){o=p,i(0,o),i(4,s)}function k(p){a=p,i(1,a)}return t.$$.update=()=>{t.$$.dirty&16&&(async()=>{s&&(i(0,o=s),await e(),i(2,n=!0))})()},[o,a,n,r,s,f,b,k]}class Ee extends J{constructor(u){super();U(this,u,he,Pe,V,{})}}export{Ee as default};
