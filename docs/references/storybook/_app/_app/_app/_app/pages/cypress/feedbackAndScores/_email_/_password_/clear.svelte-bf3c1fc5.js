import{S as N,i as T,s as q,j as D,k as w,m as S,n as C,o as U,f as b,_ as j,x as _,u as k,v as F,d as h,e as A,t as H,c as M,a as P,g as V,b as W,H as Y,l as $,w as Z,M as g,Y as G,Z as I,r as z}from"../../../../../chunks/vendor-9a64f523.js";import{C as y}from"../../../../../chunks/clearFirestore-df5c5a43.js";import{p as B,s as J}from"../../../../../chunks/stores-bd9665ba.js";import{f as K}from"../../../../../chunks/store-b78dac0d.js";function v(t){let a,i,o,e,l,s;function f(r){t[8](r)}let c={collection:"feedback",fieldUserId:"uid",uid:t[0].uid,showComplete:!1};t[2]!==void 0&&(c.resetDone=t[2]),a=new y({props:c}),G.push(()=>I(a,"resetDone",f));function d(r){t[9](r)}let p={collection:"userGoalScore",fieldUserId:"uid",uid:t[0].uid,showComplete:!1};return t[3]!==void 0&&(p.resetDone=t[3]),e=new y({props:p}),G.push(()=>I(e,"resetDone",d)),{c(){D(a.$$.fragment),o=w(),D(e.$$.fragment)},l(r){S(a.$$.fragment,r),o=C(r),S(e.$$.fragment,r)},m(r,u){U(a,r,u),b(r,o,u),U(e,r,u),s=!0},p(r,u){const n={};u&1&&(n.uid=r[0].uid),!i&&u&4&&(i=!0,n.resetDone=r[2],j(()=>i=!1)),a.$set(n);const m={};u&1&&(m.uid=r[0].uid),!l&&u&8&&(l=!0,m.resetDone=r[3],j(()=>l=!1)),e.$set(m)},i(r){s||(_(a.$$.fragment,r),_(e.$$.fragment,r),s=!0)},o(r){k(a.$$.fragment,r),k(e.$$.fragment,r),s=!1},d(r){F(a,r),r&&h(o),F(e,r)}}}function E(t){let a,i;return{c(){a=A("div"),i=H("The Feedback and UserGoalScores are cleared"),this.h()},l(o){a=M(o,"DIV",{"data-test":!0});var e=P(a);i=V(e,"The Feedback and UserGoalScores are cleared"),e.forEach(h),this.h()},h(){W(a,"data-test","complete")},m(o,e){b(o,a,e),Y(a,i)},d(o){o&&h(a)}}}function L(t){let a,i,o,e=t[0]&&t[1].user&&t[0].uid!=t[1].user.uid&&v(t),l=t[2]&&t[3]&&E();return{c(){e&&e.c(),a=w(),l&&l.c(),i=$()},l(s){e&&e.l(s),a=C(s),l&&l.l(s),i=$()},m(s,f){e&&e.m(s,f),b(s,a,f),l&&l.m(s,f),b(s,i,f),o=!0},p(s,[f]){s[0]&&s[1].user&&s[0].uid!=s[1].user.uid?e?(e.p(s,f),f&3&&_(e,1)):(e=v(s),e.c(),_(e,1),e.m(a.parentNode,a)):e&&(z(),k(e,1,1,()=>{e=null}),Z()),s[2]&&s[3]?l||(l=E(),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(s){o||(_(e),o=!0)},o(s){k(e),o=!1},d(s){e&&e.d(s),s&&h(a),l&&l.d(s),s&&h(i)}}}function O(t,a,i){let o,e,l;g(t,K,n=>i(6,o=n)),g(t,B,n=>i(7,e=n)),g(t,J,n=>i(1,l=n));let s=null,f,c,d=!1,p=!1;function r(n){d=n,i(2,d)}function u(n){p=n,i(3,p)}return t.$$.update=()=>{if(t.$$.dirty&80&&(async()=>{o&&(i(4,f=o),i(5,c=await f.auth()))})(),t.$$.dirty&163&&l.user&&l.user.uid&&s==null&&c){i(0,s=l.user);let n=e.params.email,m=e.params.password;c.signInWithEmailAndPassword(n,m)}},[s,l,d,p,f,c,o,e,r,u]}class ee extends N{constructor(a){super();T(this,a,O,L,q,{})}}export{ee as default};
