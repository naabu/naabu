import{S as P,i as S,s as g,e as d,t as u,c as b,a as j,g as _,d as l,b as v,f as m,H as w,k as M,l as k,n as C,O as y,M as p}from"../../../../chunks/vendor-9a64f523.js";import{p as D,s as I}from"../../../../chunks/stores-bd9665ba.js";import{f as X}from"../../../../chunks/store-b78dac0d.js";function h(r){let s,o;return{c(){s=d("div"),o=u("Map successfully created!"),this.h()},l(i){s=b(i,"DIV",{"data-test":!0});var e=j(s);o=_(e,"Map successfully created!"),e.forEach(l),this.h()},h(){v(s,"data-test","complete")},m(i,e){m(i,s,e),w(s,o)},d(i){i&&l(s)}}}function Y(r){let s,o,i,e,a=r[0]&&h();return{c(){s=u("Creating a new map "),o=d("br"),i=M(),a&&a.c(),e=k()},l(t){s=_(t,"Creating a new map "),o=b(t,"BR",{}),i=C(t),a&&a.l(t),e=k()},m(t,n){m(t,s,n),m(t,o,n),m(t,i,n),a&&a.m(t,n),m(t,e,n)},p(t,[n]){t[0]?a||(a=h(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:y,o:y,d(t){t&&l(s),t&&l(o),t&&l(i),a&&a.d(t),t&&l(e)}}}function N(r,s,o){let i,e,a;p(r,D,c=>o(3,i=c)),p(r,I,c=>o(4,e=c)),p(r,X,c=>o(5,a=c));let t,n=!1,f=!1;function x(){return{image:"https://firebasestorage.googleapis.com/v0/b/expwis.appspot.com/o/map1.png?alt=media&token=12e1ee07-a782-40c1-addc-e2179fc89d95",title:"Map1",authorId:e.user.uid,locations:[{accessLocations:["1cjn3"],goals:[],id:"z0ub6",isStartLocation:!0,markerPositionX:"400",markerPositionY:"400",name:"Start",textPositionX:"400",textPositionY:"450"},{id:"1cjn3",accessLocations:[],goals:[],isStartLocation:!1,markerPositionX:"500",markerPositionY:"650",name:"Location 2",textPositionX:"500",textPositionY:"700"}],paths:[{endLocation:"1cjn3",endLocationIndex:1,endLocationName:"Location1",points:'[["400","400"],["650", "500"]]',startLocation:"z0ub6",startLocationName:"Start"}]}}return r.$$.update=()=>{r.$$.dirty&62&&(async()=>{if(a&&(o(1,t=a),(e.environment==="cypress"||e.environment==="test"||e.environment==="development")&&e.user&&!e.user.isAnonymous&&!n)){o(2,n=!0);let c=await t.firestore();try{await c.collection("maps").doc(i.params.mapId).set(x()),o(0,f=!0)}catch(L){console.log(L)}}})()},[f,t,n,i,e,a]}class B extends P{constructor(s){super();S(this,s,N,Y,g,{})}}export{B as default};
