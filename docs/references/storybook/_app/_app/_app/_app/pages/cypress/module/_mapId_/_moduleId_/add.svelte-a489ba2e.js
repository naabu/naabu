import{S as x,i as C,s as w,e as p,t as y,c as b,a as I,g as _,d,b as S,f as m,H as M,k as T,l as h,n as j,O as g,M as f}from"../../../../../chunks/vendor-9a64f523.js";import{p as A,s as D}from"../../../../../chunks/stores-bd9665ba.js";import{f as G}from"../../../../../chunks/store-b78dac0d.js";function k(c){let a,l;return{c(){a=p("div"),l=y("Module successfully created!"),this.h()},l(r){a=b(r,"DIV",{"data-test":!0});var s=I(a);l=_(s,"Module successfully created!"),s.forEach(d),this.h()},h(){S(a,"data-test","complete")},m(r,s){m(r,a,s),M(a,l)},d(r){r&&d(a)}}}function N(c){let a,l,r,s,t=c[0]&&k();return{c(){a=y("Creating a module "),l=p("br"),r=T(),t&&t.c(),s=h()},l(e){a=_(e,"Creating a module "),l=b(e,"BR",{}),r=j(e),t&&t.l(e),s=h()},m(e,i){m(e,a,i),m(e,l,i),m(e,r,i),t&&t.m(e,i),m(e,s,i)},p(e,[i]){e[0]?t||(t=k(),t.c(),t.m(s.parentNode,s)):t&&(t.d(1),t=null)},i:g,o:g,d(e){e&&d(a),e&&d(l),e&&d(r),t&&t.d(e),e&&d(s)}}}function q(c,a,l){let r,s,t;f(c,A,n=>l(3,r=n)),f(c,D,n=>l(4,s=n)),f(c,G,n=>l(5,t=n));let e,i=!1,u=!1;async function v(n){let o=await n.collection("maps").doc(r.params.mapId).get();if(o.exists)return o.data()}return c.$$.update=()=>{c.$$.dirty&62&&(async()=>{if(t&&(l(1,e=t),(s.environment==="cypress"||s.environment==="test"||s.environment==="development")&&s.user&&!s.user.isAnonymous&&!i)){console.log("hiasdfasdf"),l(2,i=!0);let n=await e.firestore();try{let o=await v(n);console.log(o),o?(o.moduleDescription="test",o.moduleName="Test",o.moduleSvg="",o.modifiedAt=e.firestore.Timestamp.now().seconds,o.authorId=s.user.uid,o.locations[0].goals=[{id:"cypress-test-goal-1",title:"Cypress Test Goal 1"}],o.locations[1].goals=[{id:"cypress-test-goal-2",title:"Cypress Test Goal 2"}],o.mapId="map1",await n.collection("modules").doc(r.params.moduleId).set(o),l(0,u=!0)):console.error("map not found to create module for!")}catch(o){console.log(o)}}})()},[u,e,i,r,s,t]}class O extends x{constructor(a){super();C(this,a,q,N,w,{})}}export{O as default};
