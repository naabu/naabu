import{S as oe,i as le,s as fe,a3 as Ee,e as y,j as N,k as q,t as P,c as k,a as A,m as G,n as Z,d as v,g as B,b as p,f as I,o as H,H as b,I as ce,J as Re,_ as z,x as E,u as V,v as O,l as ue,X as Te,r as de,w as me,M as K,A as De,Y as C,Z as M,aa as ve,ab as Se,h as _e}from"../../../../chunks/vendor-9a64f523.js";import{s as ze,p as Ve}from"../../../../chunks/stores-bd9665ba.js";import{F as Ce}from"../../../../chunks/form-f5e852a2.js";import{R as Me}from"../../../../chunks/resultFeedback-6bde5315.js";import{d as Pe,b as pe}from"../../../../chunks/helper-13ceec00.js";import{g as ge}from"../../../../chunks/navigation-51f4a605.js";import{a as he,f as be}from"../../../../chunks/helper-e98ae755.js";import{g as Be,c as Fe}from"../../../../chunks/helper-de78ef5d.js";import{f as Le}from"../../../../chunks/store-b78dac0d.js";import{S as Ne,g as qe}from"../../../../chunks/helper-4844646d.js";import{G as Ge}from"../../../../chunks/getActivityData-7ca7fa60.js";/* empty css                                   */import"../../../../chunks/quizzesForm-adbab4ef.js";import"../../../../chunks/dialog-c021e43e.js";import"../../../../chunks/singletons-12a22614.js";function ye(s){let t,e,i,a,f,o,u,d,l,r,c,m,T,R,n,h,_,w,D,Y,J,Q;function je(g){s[8](g)}let X={};s[2]!==void 0&&(X.alert=s[2]),e=new Me({props:X}),C.push(()=>M(e,"alert",je));function $(g,j){return g[0].status==="draft"?He:Ze}let U=$(s),S=U(s);function Ie(g){s[9](g)}let x={};return s[0]!==void 0&&(x.activity=s[0]),m=new Ce({props:x}),C.push(()=>M(m,"activity",Ie)),m.$on("toLearningGoals",s[3]),{c(){t=y("div"),N(e.$$.fragment),a=q(),f=y("div"),o=y("div"),u=y("div"),d=y("div"),l=y("p"),S.c(),r=q(),c=y("form"),N(m.$$.fragment),R=q(),n=y("div"),h=y("div"),_=y("div"),w=y("button"),D=P("Concept opslaan en bekijken"),this.h()},l(g){t=k(g,"DIV",{});var j=A(t);G(e.$$.fragment,j),a=Z(j),f=k(j,"DIV",{});var F=A(f);o=k(F,"DIV",{class:!0});var L=A(o);u=k(L,"DIV",{class:!0});var ee=A(u);d=k(ee,"DIV",{});var te=A(d);l=k(te,"P",{class:!0});var ie=A(l);S.l(ie),ie.forEach(v),te.forEach(v),ee.forEach(v),L.forEach(v),F.forEach(v),r=Z(j),c=k(j,"FORM",{class:!0});var W=A(c);G(m.$$.fragment,W),R=Z(W),n=k(W,"DIV",{class:!0});var se=A(n);h=k(se,"DIV",{class:!0});var ae=A(h);_=k(ae,"DIV",{class:!0});var ne=A(_);w=k(ne,"BUTTON",{"data-cy":!0,type:!0,class:!0});var re=A(w);D=B(re,"Concept opslaan en bekijken"),re.forEach(v),ne.forEach(v),ae.forEach(v),se.forEach(v),W.forEach(v),j.forEach(v),this.h()},h(){p(l,"class","max-w-2xl text-sm text-gray-500"),p(u,"class","flex-1 min-w-0"),p(o,"class","md:flex md:items-center md:justify-between"),p(w,"data-cy","edit-activity-submit-button"),p(w,"type","submit"),p(w,"class","float-right ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(_,"class","flex justify-end"),p(h,"class","pt-5"),p(n,"class",""),p(c,"class","space-y-8 divide-y divide-gray-200")},m(g,j){I(g,t,j),H(e,t,null),b(t,a),b(t,f),b(f,o),b(o,u),b(u,d),b(d,l),S.m(l,null),b(t,r),b(t,c),H(m,c,null),b(c,R),b(c,n),b(n,h),b(h,_),b(_,w),b(w,D),Y=!0,J||(Q=ce(c,"submit",Re(s[4])),J=!0)},p(g,j){const F={};!i&&j&4&&(i=!0,F.alert=g[2],z(()=>i=!1)),e.$set(F),U!==(U=$(g))&&(S.d(1),S=U(g),S&&(S.c(),S.m(l,null)));const L={};!T&&j&1&&(T=!0,L.activity=g[0],z(()=>T=!1)),m.$set(L)},i(g){Y||(E(e.$$.fragment,g),E(m.$$.fragment,g),Y=!0)},o(g){V(e.$$.fragment,g),V(m.$$.fragment,g),Y=!1},d(g){g&&v(t),O(e),S.d(),O(m),J=!1,Q()}}}function Ze(s){let t;return{c(){t=P("Wijzig hier je activiteit")},l(e){t=B(e,"Wijzig hier je activiteit")},m(e,i){I(e,t,i)},d(e){e&&v(t)}}}function He(s){let t;return{c(){t=P(`Maak hier elke soort activiteit, bijvoorbeeld een uitleg video
                of quiz.`)},l(e){t=B(e,`Maak hier elke soort activiteit, bijvoorbeeld een uitleg video
                of quiz.`)},m(e,i){I(e,t,i)},d(e){e&&v(t)}}}function Oe(s){let t=!1,e=()=>{t=!1},i,a,f,o,u,d,l;Ee(s[7]);let r=s[0]&&ye(s);return{c(){a=y("link"),f=q(),r&&r.c(),o=ue(),this.h()},l(c){const m=Te('[data-svelte="svelte-18eex2"]',document.head);a=k(m,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),m.forEach(v),f=Z(c),r&&r.l(c),o=ue(),this.h()},h(){p(a,"rel","stylesheet"),p(a,"href","https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css"),p(a,"integrity","sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc"),p(a,"crossorigin","anonymous")},m(c,m){b(document.head,a),I(c,f,m),r&&r.m(c,m),I(c,o,m),u=!0,d||(l=ce(window,"scroll",()=>{t=!0,clearTimeout(i),i=setTimeout(e,100),s[7]()}),d=!0)},p(c,[m]){m&2&&!t&&(t=!0,clearTimeout(i),scrollTo(window.pageXOffset,c[1]),i=setTimeout(e,100)),c[0]?r?(r.p(c,m),m&1&&E(r,1)):(r=ye(c),r.c(),E(r,1),r.m(o.parentNode,o)):r&&(de(),V(r,1,1,()=>{r=null}),me())},i(c){u||(E(r),u=!0)},o(c){V(r),u=!1},d(c){v(a),c&&v(f),r&&r.d(c),c&&v(o),d=!1,l()}}}function Ye(s,t,e){let i;K(s,ze,n=>e(11,i=n));let a,{previousActivity:f}=t,{activity:o}=t,{firebase:u}=t;De(async()=>{await u.firestore()});async function d(){o.id&&(await r(),ge("/lerarenkamer/activiteit/maken-leerdoel-zoeken?activityId="+o.id))}let l=he();async function r(){if(i.user){let n=Pe(o);if(Be(f,n).length>0){let D=await Fe(u,o,n,i.user.uid);n.latestRevisionId=D.id,n.latestRevisionCreatedAt=u.firestore.Timestamp.now().seconds,o.latestRevisionId&&(n.previousRevisionId=o.latestRevisionId)}n.authorId=i.user.uid,e(2,l=he());let w=u.firestore().collection("activities").doc(o.id);try{await w.update(n),e(2,l.success=!0,l),e(2,l.successTitle="Activiteit gewijzigd",l),e(2,l.successMessage="id: "+w.id,l)}catch(D){console.error("Error adding documfent: ",D),e(2,l.error=!0,l),e(2,l.errorCode=D.code,l),e(2,l.errorMessage=D.message,l)}e(1,a=0)}}async function c(n){await r(),ge("/lerarenkamer/activiteit/"+o.id+"/preview")}function m(){e(1,a=window.pageYOffset)}function T(n){l=n,e(2,l)}function R(n){o=n,e(0,o)}return s.$$set=n=>{"previousActivity"in n&&e(5,f=n.previousActivity),"activity"in n&&e(0,o=n.activity),"firebase"in n&&e(6,u=n.firebase)},[o,a,l,d,c,f,u,m,T,R]}class Ue extends oe{constructor(t){super();le(this,t,Ye,Oe,fe,{previousActivity:5,activity:0,firebase:6})}}function ke(s){let t,e,i,a,f=be(s[0].latestRevisionCreatedAt,s[2],s[4])+"",o,u;return{c(){t=y("p"),e=y("a"),i=y("time"),a=P(`Laatste wijziging was
            `),o=P(f),this.h()},l(d){t=k(d,"P",{class:!0});var l=A(t);e=k(l,"A",{"data-cy":!0,href:!0,class:!0});var r=A(e);i=k(r,"TIME",{datetime:!0});var c=A(i);a=B(c,`Laatste wijziging was
            `),o=B(c,f),c.forEach(v),r.forEach(v),l.forEach(v),this.h()},h(){p(i,"datetime","2020-12-09T11:43:00"),p(e,"data-cy","last-change-link"),p(e,"href",u="/revisie/"+s[0].latestRevisionId+"/diff/"+s[0].previousRevisionId),p(e,"class","hover:underline"),p(t,"class","pt-2 text-sm text-gray-500")},m(d,l){I(d,t,l),b(t,e),b(e,i),b(i,a),b(i,o)},p(d,l){l&5&&f!==(f=be(d[0].latestRevisionCreatedAt,d[2],d[4])+"")&&_e(o,f),l&1&&u!==(u="/revisie/"+d[0].latestRevisionId+"/diff/"+d[0].previousRevisionId)&&p(e,"href",u)},d(d){d&&v(t)}}}function We(s){let t,e=s[0]&&s[0].latestRevisionCreatedAt&&s[0].previousRevisionId&&ke(s);return{c(){t=y("div"),e&&e.c(),this.h()},l(i){t=k(i,"DIV",{slot:!0,class:!0});var a=A(t);e&&e.l(a),a.forEach(v),this.h()},h(){p(t,"slot","abovetitle"),p(t,"class","ml-auto w-max")},m(i,a){I(i,t,a),e&&e.m(t,null)},p(i,a){i[0]&&i[0].latestRevisionCreatedAt&&i[0].previousRevisionId?e?e.p(i,a):(e=ke(i),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(i){i&&v(t),e&&e.d()}}}function Je(s){let t,e;return{c(){t=y("span"),e=P("Activiteit maken"),this.h()},l(i){t=k(i,"SPAN",{slot:!0});var a=A(t);e=B(a,"Activiteit maken"),a.forEach(v),this.h()},h(){p(t,"slot","title")},m(i,a){I(i,t,a),b(t,e)},d(i){i&&v(t)}}}function Ae(s){let t=pe(s[0].status)+"",e;return{c(){e=P(t)},l(i){e=B(i,t)},m(i,a){I(i,e,a)},p(i,a){a&1&&t!==(t=pe(i[0].status)+"")&&_e(e,t)},d(i){i&&v(e)}}}function Ke(s){let t,e=s[2]&&s[0]&&Ae(s);return{c(){t=y("span"),e&&e.c(),this.h()},l(i){t=k(i,"SPAN",{slot:!0,"data-cy":!0,class:!0});var a=A(t);e&&e.l(a),a.forEach(v),this.h()},h(){p(t,"slot","status"),p(t,"data-cy","concept-status"),p(t,"class","inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800")},m(i,a){I(i,t,a),e&&e.m(t,null)},p(i,a){i[2]&&i[0]?e?e.p(i,a):(e=Ae(i),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},d(i){i&&v(t),e&&e.d()}}}function we(s){let t,e,i,a,f;function o(r){s[10](r)}function u(r){s[11](r)}function d(r){s[12](r)}let l={};return s[2]!==void 0&&(l.firebase=s[2]),s[0]!==void 0&&(l.activity=s[0]),s[3]!==void 0&&(l.previousActivity=s[3]),t=new Ue({props:l}),C.push(()=>M(t,"firebase",o)),C.push(()=>M(t,"activity",u)),C.push(()=>M(t,"previousActivity",d)),{c(){N(t.$$.fragment)},l(r){G(t.$$.fragment,r)},m(r,c){H(t,r,c),f=!0},p(r,c){const m={};!e&&c&4&&(e=!0,m.firebase=r[2],z(()=>e=!1)),!i&&c&1&&(i=!0,m.activity=r[0],z(()=>i=!1)),!a&&c&8&&(a=!0,m.previousActivity=r[3],z(()=>a=!1)),t.$set(m)},i(r){f||(E(t.$$.fragment,r),f=!0)},o(r){V(t.$$.fragment,r),f=!1},d(r){O(t,r)}}}function Qe(s){let t,e,i=s[2]&&s[0]&&we(s);return{c(){t=y("span"),i&&i.c(),this.h()},l(a){t=k(a,"SPAN",{slot:!0});var f=A(t);i&&i.l(f),f.forEach(v),this.h()},h(){p(t,"slot","content")},m(a,f){I(a,t,f),i&&i.m(t,null),e=!0},p(a,f){a[2]&&a[0]?i?(i.p(a,f),f&5&&E(i,1)):(i=we(a),i.c(),E(i,1),i.m(t,null)):i&&(de(),V(i,1,1,()=>{i=null}),me())},i(a){e||(E(i),e=!0)},o(a){V(i),e=!1},d(a){a&&v(t),i&&i.d()}}}function Xe(s){let t,e,i,a,f,o,u,d;function l(n){s[7](n)}function r(n){s[8](n)}function c(n){s[9](n)}let m={};s[2]!==void 0&&(m.firebase=s[2]),s[0]!==void 0&&(m.activity=s[0]),s[3]!==void 0&&(m.cloneActivity=s[3]),t=new Ge({props:m}),C.push(()=>M(t,"firebase",l)),C.push(()=>M(t,"activity",r)),C.push(()=>M(t,"cloneActivity",c));function T(n){s[13](n)}let R={$$slots:{content:[Qe],status:[Ke],title:[Je],abovetitle:[We]},$$scope:{ctx:s}};return s[1]!==void 0&&(R.menuitems=s[1]),o=new Ne({props:R}),C.push(()=>M(o,"menuitems",T)),{c(){N(t.$$.fragment),f=q(),N(o.$$.fragment)},l(n){G(t.$$.fragment,n),f=Z(n),G(o.$$.fragment,n)},m(n,h){H(t,n,h),I(n,f,h),H(o,n,h),d=!0},p(n,[h]){const _={};!e&&h&4&&(e=!0,_.firebase=n[2],z(()=>e=!1)),!i&&h&1&&(i=!0,_.activity=n[0],z(()=>i=!1)),!a&&h&8&&(a=!0,_.cloneActivity=n[3],z(()=>a=!1)),t.$set(_);const w={};h&16397&&(w.$$scope={dirty:h,ctx:n}),!u&&h&2&&(u=!0,w.menuitems=n[1],z(()=>u=!1)),o.$set(w)},i(n){d||(E(t.$$.fragment,n),E(o.$$.fragment,n),d=!0)},o(n){V(t.$$.fragment,n),V(o.$$.fragment,n),d=!1},d(n){O(t,n),n&&v(f),O(o,n)}}}function $e(s,t,e){let i,a;K(s,Le,_=>e(5,i=_)),K(s,Ve,_=>e(6,a=_));let f,o,u,d;ve.addLocale(Se);const l=new ve("nl");function r(_){o=_,e(2,o)}function c(_){u=_,e(0,u)}function m(_){d=_,e(3,d)}function T(_){o=_,e(2,o)}function R(_){u=_,e(0,u)}function n(_){d=_,e(3,d)}function h(_){f=_,e(1,f),e(0,u),e(6,a)}return s.$$.update=()=>{s.$$.dirty&65&&u&&e(1,f=qe(a.path,u.status)),s.$$.dirty&32&&(async()=>{})()},[u,f,o,d,l,i,a,r,c,m,T,R,n,h]}class vt extends oe{constructor(t){super();le(this,t,$e,Xe,fe,{})}}export{vt as default};
