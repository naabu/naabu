import{S as ce,i as me,s as de,a3 as je,Y as J,Z as L,j as P,k as Y,e as _,t as ee,m as U,n as $,c as g,a as h,g as se,d as m,b as y,o as X,f as R,H as p,I as pe,J as Me,_ as Z,x as K,u as C,v as z,L as Ee,M as be,A as De,a6 as Te,l as _e,w as Ie,r as Se}from"../../../chunks/vendor-ef0a5b69.js";import{F as Ke}from"../../../chunks/form-5a1c739a.js";import{S as Ve}from"../../../chunks/show-4db925d1.js";import{R as Fe}from"../../../chunks/resultFeedback-cc00a4e5.js";import{g as Re}from"../../../chunks/helper-69e97bf9.js";import{s as Ce}from"../../../chunks/stores-2d9a71bb.js";import{f as Oe}from"../../../chunks/store-6c10047c.js";/* empty css                                */import"../../../chunks/dialog-12cfde9a.js";const{setTimeout:ge}=Te;function Ae(r){let n=!1,a=()=>{n=!1},s,t,f,o,u,d,j,i,M,E,k,D,O,A,l,T,I,b,w,G,Q,V,F,v,W,B,x,te;je(r[7]);function we(e){r[8](e)}let ae={};r[0]!==void 0&&(ae.breadcrumbs=r[0]),t=new Ve({props:ae}),J.push(()=>L(t,"breadcrumbs",we));function ve(e){r[9](e)}let re={};r[4]!==void 0&&(re.alert=r[4]),u=new Fe({props:re}),J.push(()=>L(u,"alert",ve));function ye(e){r[10](e)}let ne={};return r[2]!==void 0&&(ne.map=r[2]),w=new Ke({props:ne}),J.push(()=>L(w,"map",ye)),{c(){P(t.$$.fragment),o=Y(),P(u.$$.fragment),j=Y(),i=_("div"),M=_("div"),E=_("div"),k=_("div"),D=_("h3"),O=ee("Kaart maken"),A=Y(),l=_("p"),T=ee("Maak een nieuwe kaart aan met leerdoelen"),I=Y(),b=_("form"),P(w.$$.fragment),Q=Y(),V=_("div"),F=_("div"),v=_("button"),W=ee("Kaart aanmaken"),this.h()},l(e){U(t.$$.fragment,e),o=$(e),U(u.$$.fragment,e),j=$(e),i=g(e,"DIV",{});var c=h(i);M=g(c,"DIV",{class:!0});var H=h(M);E=g(H,"DIV",{class:!0});var N=h(E);k=g(N,"DIV",{});var S=h(k);D=g(S,"H3",{class:!0});var oe=h(D);O=se(oe,"Kaart maken"),oe.forEach(m),A=$(S),l=g(S,"P",{class:!0});var ie=h(l);T=se(ie,"Maak een nieuwe kaart aan met leerdoelen"),ie.forEach(m),S.forEach(m),N.forEach(m),H.forEach(m),c.forEach(m),I=$(e),b=g(e,"FORM",{class:!0});var q=h(b);U(w.$$.fragment,q),Q=$(q),V=g(q,"DIV",{class:!0});var le=h(V);F=g(le,"DIV",{class:!0});var fe=h(F);v=g(fe,"BUTTON",{type:!0,class:!0});var ue=h(v);W=se(ue,"Kaart aanmaken"),ue.forEach(m),fe.forEach(m),le.forEach(m),q.forEach(m),this.h()},h(){y(D,"class","text-lg leading-6 font-medium text-gray-900"),y(l,"class","mt-1 max-w-2xl text-sm text-gray-500"),y(E,"class","flex-1 min-w-0"),y(M,"class","mt-2 md:flex md:items-center md:justify-between"),v.disabled=r[3],y(v,"type","submit"),y(v,"class","float-right disabled:opacity-50 ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),y(F,"class","flex justify-end"),y(V,"class","pt-5"),y(b,"class","space-y-8 divide-y divide-gray-200")},m(e,c){X(t,e,c),R(e,o,c),X(u,e,c),R(e,j,c),R(e,i,c),p(i,M),p(M,E),p(E,k),p(k,D),p(D,O),p(k,A),p(k,l),p(l,T),R(e,I,c),R(e,b,c),X(w,b,null),p(b,Q),p(b,V),p(V,F),p(F,v),p(v,W),B=!0,x||(te=[pe(window,"scroll",()=>{n=!0,clearTimeout(s),s=ge(a,100),r[7]()}),pe(b,"submit",Me(r[5]))],x=!0)},p(e,[c]){c&2&&!n&&(n=!0,clearTimeout(s),scrollTo(window.pageXOffset,e[1]),s=ge(a,100));const H={};!f&&c&1&&(f=!0,H.breadcrumbs=e[0],Z(()=>f=!1)),t.$set(H);const N={};!d&&c&16&&(d=!0,N.alert=e[4],Z(()=>d=!1)),u.$set(N);const S={};!G&&c&4&&(G=!0,S.map=e[2],Z(()=>G=!1)),w.$set(S),(!B||c&8)&&(v.disabled=e[3])},i(e){B||(K(t.$$.fragment,e),K(u.$$.fragment,e),K(w.$$.fragment,e),B=!0)},o(e){C(t.$$.fragment,e),C(u.$$.fragment,e),C(w.$$.fragment,e),B=!1},d(e){z(t,e),e&&m(o),z(u,e),e&&m(j),e&&m(i),e&&m(I),e&&m(b),z(w),x=!1,Ee(te)}}}function he(){return{success:!1,successMessage:"",error:!1,errorCode:"",errorMessage:""}}function Be(r,n,a){let s;be(r,Ce,l=>a(12,s=l));let{firebase:t}=n,f=[{url:"/beheer",value:"Beheer"},{url:"/beheer/kaart",value:"Kaarten"},{url:"/beheer/kaarten/maken",value:"Kaarten maken"}],o,u,d={title:"",image:"https://firebasestorage.googleapis.com/v0/b/expwis.appspot.com/o/map1.png?alt=media&token=12e1ee07-a782-40c1-addc-e2179fc89d95",locations:[],paths:[]},j=!1,i=he();De(async()=>{u=await t.firestore()});async function M(){let l=Re(d);l.authorId=s.user.uid,a(4,i=he());try{let I=await u.collection("maps").add(l);a(4,i.success=!0,i),a(4,i.successTitle="Kaart gemaakt",i),a(4,i.successMessage="id: "+I.id,i),a(2,d.id=I.id,d),updateActivities(t,d)}catch(T){a(4,i.error=!0,i),a(4,i.errorCode=T.code,i),a(4,i.errorMessage=T.message,i)}a(1,o=0)}async function E(){a(3,j=!0),await M(),setTimeout(()=>{a(3,j=!1)},5e3)}function k(){a(1,o=window.pageYOffset)}function D(l){f=l,a(0,f)}function O(l){i=l,a(4,i)}function A(l){d=l,a(2,d)}return r.$$set=l=>{"firebase"in l&&a(6,t=l.firebase)},[f,o,d,j,i,E,t,k,D,O,A]}class He extends ce{constructor(n){super();me(this,n,Be,Ae,de,{firebase:6})}}function ke(r){let n,a,s;function t(o){r[2](o)}let f={};return r[0]!==void 0&&(f.firebase=r[0]),n=new He({props:f}),J.push(()=>L(n,"firebase",t)),{c(){P(n.$$.fragment)},l(o){U(n.$$.fragment,o)},m(o,u){X(n,o,u),s=!0},p(o,u){const d={};!a&&u&1&&(a=!0,d.firebase=o[0],Z(()=>a=!1)),n.$set(d)},i(o){s||(K(n.$$.fragment,o),s=!0)},o(o){C(n.$$.fragment,o),s=!1},d(o){z(n,o)}}}function Ne(r){let n,a,s=r[0]&&ke(r);return{c(){s&&s.c(),n=_e()},l(t){s&&s.l(t),n=_e()},m(t,f){s&&s.m(t,f),R(t,n,f),a=!0},p(t,[f]){t[0]?s?(s.p(t,f),f&1&&K(s,1)):(s=ke(t),s.c(),K(s,1),s.m(n.parentNode,n)):s&&(Se(),C(s,1,1,()=>{s=null}),Ie())},i(t){a||(K(s),a=!0)},o(t){C(s),a=!1},d(t){s&&s.d(t),t&&m(n)}}}function Ye(r,n,a){let s;be(r,Oe,o=>a(1,s=o));let t;function f(o){t=o,a(0,t),a(1,s)}return r.$$.update=()=>{r.$$.dirty&2&&(async()=>{s&&a(0,t=s)})()},[t,s,f]}class Ge extends ce{constructor(n){super();me(this,n,Ye,Ne,de,{})}}export{Ge as default};
