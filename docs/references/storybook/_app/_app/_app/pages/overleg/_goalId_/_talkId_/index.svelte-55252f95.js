import{S as Xe,i as $e,s as xe,k as C,j as ce,e as v,t as J,n as q,m as de,c as k,a as h,g as Q,d as m,b as p,f as L,o as pe,H as _,x as V,_ as U,u as z,v as _e,r as Ee,w as je,D as et,E as tt,h as ue,K as _t,l as we,Y as G,Z as M,O as mt,M as at}from"../../../../chunks/vendor-ef0a5b69.js";import{g as lt}from"../../../../chunks/helper-821c0d77.js";import{d as gt}from"../../../../chunks/helper-83b9a453.js";import{C as bt}from"../../../../chunks/createPost-7aba39e9.js";import{T as ht}from"../../../../chunks/talk-390c6dda.js";import{p as Se}from"../../../../chunks/stores-2d9a71bb.js";import{f as vt}from"../../../../chunks/store-6c10047c.js";import{B as kt}from"../../../../chunks/breadcrumbPageTitle-ab7a74b1.js";import{G as It}from"../../../../chunks/getGoalData-a921e076.js";import"../../../../chunks/helper-9858c370.js";import"../../../../chunks/checkPlayerHasProfile-5552aa6e.js";import"../../../../chunks/resultFeedback-cc00a4e5.js";import"../../../../chunks/navigation-51f4a605.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/tabs-86d92abc.js";/* empty css                                                            */import"../../../../chunks/show-4db925d1.js";function st(l,t,e){const a=l.slice();return a[8]=t[e],a}function rt(l){let t,e,a,s,c,r,d,f,y,T,b,A,g=l[1].type==="goal"&&it(l);function i(n){l[5](n)}function o(n){l[6](n)}function E(n){l[7](n)}let P={};l[0]!==void 0&&(P.firebase=l[0]),l[2]!==void 0&&(P.goalId=l[2]),l[1]!==void 0&&(P.talk=l[1]),e=new bt({props:P}),G.push(()=>M(e,"firebase",i)),G.push(()=>M(e,"goalId",o)),G.push(()=>M(e,"talk",E));let R=l[3],j=[];for(let n=0;n<R.length;n+=1)j[n]=ut(st(l,R,n));return{c(){g&&g.c(),t=C(),ce(e.$$.fragment),r=C(),d=v("div"),f=v("h1"),y=J("Recent posts"),T=C(),b=v("ul");for(let n=0;n<j.length;n+=1)j[n].c();this.h()},l(n){g&&g.l(n),t=q(n),de(e.$$.fragment,n),r=q(n),d=k(n,"DIV",{class:!0});var u=h(d);f=k(u,"H1",{class:!0});var D=h(f);y=Q(D,"Recent posts"),D.forEach(m),T=q(u),b=k(u,"UL",{role:!0,class:!0});var w=h(b);for(let H=0;H<j.length;H+=1)j[H].l(w);w.forEach(m),u.forEach(m),this.h()},h(){p(f,"class","sr-only"),p(b,"role","list"),p(b,"class","space-y-4"),p(d,"class","mt-4 ml-auto mr-auto max-w-xl")},m(n,u){g&&g.m(n,u),L(n,t,u),pe(e,n,u),L(n,r,u),L(n,d,u),_(d,f),_(f,y),_(d,T),_(d,b);for(let D=0;D<j.length;D+=1)j[D].m(b,null);A=!0},p(n,u){n[1].type==="goal"?g?(g.p(n,u),u&2&&V(g,1)):(g=it(n),g.c(),V(g,1),g.m(t.parentNode,t)):g&&(Ee(),z(g,1,1,()=>{g=null}),je());const D={};if(!a&&u&1&&(a=!0,D.firebase=n[0],U(()=>a=!1)),!s&&u&4&&(s=!0,D.goalId=n[2],U(()=>s=!1)),!c&&u&2&&(c=!0,D.talk=n[1],U(()=>c=!1)),e.$set(D),u&14){R=n[3];let w;for(w=0;w<R.length;w+=1){const H=st(n,R,w);j[w]?j[w].p(H,u):(j[w]=ut(H),j[w].c(),j[w].m(b,null))}for(;w<j.length;w+=1)j[w].d(1);j.length=R.length}},i(n){A||(V(g),V(e.$$.fragment,n),A=!0)},o(n){z(g),z(e.$$.fragment,n),A=!1},d(n){g&&g.d(n),n&&m(t),_e(e,n),n&&m(r),n&&m(d),_t(j,n)}}}function it(l){let t,e,a;function s(r){l[4](r)}let c={talkType:l[1].type,talkId:l[1].id};return l[2]!==void 0&&(c.objectId=l[2]),t=new ht({props:c}),G.push(()=>M(t,"objectId",s)),{c(){ce(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,d){pe(t,r,d),a=!0},p(r,d){const f={};d&2&&(f.talkType=r[1].type),d&2&&(f.talkId=r[1].id),!e&&d&4&&(e=!0,f.objectId=r[2],U(()=>e=!1)),t.$set(f)},i(r){a||(V(t.$$.fragment,r),a=!0)},o(r){z(t.$$.fragment,r),a=!1},d(r){_e(t,r)}}}function nt(l){let t,e=lt(l[8].createdAt)+"",a;return{c(){t=v("time"),a=J(e)},l(s){t=k(s,"TIME",{});var c=h(t);a=Q(c,e),c.forEach(m)},m(s,c){L(s,t,c),_(t,a)},p(s,c){c&8&&e!==(e=lt(s[8].createdAt)+"")&&ue(a,e)},d(s){s&&m(t)}}}function ot(l){let t=l[8].title+"",e;return{c(){e=J(t)},l(a){e=Q(a,t)},m(a,s){L(a,e,s)},p(a,s){s&8&&t!==(t=a[8].title+"")&&ue(e,t)},d(a){a&&m(e)}}}function ft(l){let t=l[8].text+"",e;return{c(){e=J(t)},l(a){e=Q(a,t)},m(a,s){L(a,e,s)},p(a,s){s&8&&t!==(t=a[8].text+"")&&ue(e,t)},d(a){a&&m(e)}}}function Et(l){let t;return{c(){t=J("0")},l(e){t=Q(e,"0")},m(e,a){L(e,t,a)},p:mt,d(e){e&&m(t)}}}function jt(l){let t=l[8].numberOfReplies+"",e;return{c(){e=J(t)},l(a){e=Q(a,t)},m(a,s){L(a,e,s)},p(a,s){s&8&&t!==(t=a[8].numberOfReplies+"")&&ue(e,t)},d(a){a&&m(e)}}}function ut(l){let t,e,a,s,c,r,d,f=l[8].curriculumProfile.fullname+"",y,T,b,A=l[8].curriculumProfile.institution+"",g,i,o,E,P,R,j,n,u,D,w,H,F,K,ee,te,me,ye,X,ae,le,Y,W,$,Pe,x,De,se,Ve,Te,re,ie,ne,Ae,S=l[8].createdAt&&nt(l),N=l[8].title&&ot(l),O=l[8].text&&ft(l);function Ne(I,B){return I[8].numberOfReplies?jt:Et}let ge=Ne(l),Z=ge(l);return{c(){t=v("li"),e=v("article"),a=v("div"),s=v("div"),c=v("div"),r=v("p"),d=v("a"),y=J(f),b=J(`
                    - `),g=J(A),i=C(),o=v("p"),S&&S.c(),E=C(),P=v("div"),R=v("div"),j=v("div"),n=v("button"),u=v("span"),D=J("Open options"),w=C(),H=v("div"),F=v("a"),K=v("h2"),N&&N.c(),ee=C(),te=v("p"),O&&O.c(),ye=C(),X=v("div"),ae=v("div"),le=v("span"),Y=v("button"),W=et("svg"),$=et("path"),Pe=C(),x=v("span"),Z.c(),De=C(),se=v("span"),Ve=J("replies"),Te=C(),re=v("div"),ie=v("span"),ne=v("button"),Ae=C(),this.h()},l(I){t=k(I,"LI",{class:!0});var B=h(t);e=k(B,"ARTICLE",{"aria-labelledby":!0});var oe=h(e);a=k(oe,"DIV",{});var Oe=h(a);s=k(Oe,"DIV",{class:!0});var be=h(s);c=k(be,"DIV",{class:!0});var he=h(c);r=k(he,"P",{class:!0});var ve=h(r);d=k(ve,"A",{class:!0,href:!0});var Re=h(d);y=Q(Re,f),Re.forEach(m),b=Q(ve,`
                    - `),g=Q(ve,A),ve.forEach(m),i=q(he),o=k(he,"P",{class:!0});var Be=h(o);S&&S.l(Be),Be.forEach(m),he.forEach(m),E=q(be),P=k(be,"DIV",{class:!0});var He=h(P);R=k(He,"DIV",{class:!0});var Ce=h(R);j=k(Ce,"DIV",{});var qe=h(j);n=k(qe,"BUTTON",{type:!0,class:!0,id:!0,"aria-expanded":!0,"aria-haspopup":!0});var Le=h(n);u=k(Le,"SPAN",{class:!0});var Ue=h(u);D=Q(Ue,"Open options"),Ue.forEach(m),Le.forEach(m),qe.forEach(m),Ce.forEach(m),He.forEach(m),be.forEach(m),Oe.forEach(m),w=q(oe),H=k(oe,"DIV",{class:!0});var ze=h(H);F=k(ze,"A",{class:!0,href:!0});var ke=h(F);K=k(ke,"H2",{id:!0,class:!0});var Ge=h(K);N&&N.l(Ge),Ge.forEach(m),ee=q(ke),te=k(ke,"P",{});var Me=h(te);O&&O.l(Me),Me.forEach(m),ke.forEach(m),ze.forEach(m),ye=q(oe),X=k(oe,"DIV",{class:!0});var Ie=h(X);ae=k(Ie,"DIV",{class:!0});var Fe=h(ae);le=k(Fe,"SPAN",{class:!0});var Ke=h(le);Y=k(Ke,"BUTTON",{type:!0,class:!0});var fe=h(Y);W=tt(fe,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var Ye=h(W);$=tt(Ye,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),h($).forEach(m),Ye.forEach(m),Pe=q(fe),x=k(fe,"SPAN",{class:!0});var Ze=h(x);Z.l(Ze),Ze.forEach(m),De=q(fe),se=k(fe,"SPAN",{class:!0});var Je=h(se);Ve=Q(Je,"replies"),Je.forEach(m),fe.forEach(m),Ke.forEach(m),Fe.forEach(m),Te=q(Ie),re=k(Ie,"DIV",{class:!0});var Qe=h(re);ie=k(Qe,"SPAN",{class:!0});var We=h(ie);ne=k(We,"BUTTON",{type:!0,class:!0});var pt=h(ne);pt.forEach(m),We.forEach(m),Qe.forEach(m),Ie.forEach(m),oe.forEach(m),Ae=q(B),B.forEach(m),this.h()},h(){p(d,"class","hover:underline"),p(d,"href",T="/curriculum-profiel/"+l[8].authorId),p(r,"class","text-sm font-medium text-gray-900"),p(o,"class","text-sm text-gray-500"),p(c,"class","min-w-0 flex-1"),p(u,"class","sr-only"),p(n,"type","button"),p(n,"class","-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600"),p(n,"id","options-menu-0-button"),p(n,"aria-expanded","false"),p(n,"aria-haspopup","true"),p(R,"class","relative inline-block text-left"),p(P,"class","flex-shrink-0 self-center flex"),p(s,"class","flex space-x-3"),p(K,"id","question-title-81614"),p(K,"class","mt-4 mb-2 text-base font-medium text-gray-900"),p(F,"class","cursor-pointer"),p(F,"href",me="/overleg/"+l[2]+"/"+l[1].id+"/"+l[8].id),p(H,"class","text-sm text-gray-700 space-y-4"),p($,"fill-rule","evenodd"),p($,"d","M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"),p($,"clip-rule","evenodd"),p(W,"class","h-5 w-5"),p(W,"xmlns","http://www.w3.org/2000/svg"),p(W,"viewBox","0 0 20 20"),p(W,"fill","currentColor"),p(W,"aria-hidden","true"),p(x,"class","font-medium text-gray-900"),p(se,"class","sr-only"),p(Y,"type","button"),p(Y,"class","inline-flex space-x-2 text-gray-400 hover:text-gray-500"),p(le,"class","inline-flex items-center text-sm"),p(ae,"class","flex space-x-6"),p(ne,"type","button"),p(ne,"class","inline-flex space-x-2 text-gray-400 hover:text-gray-500"),p(ie,"class","inline-flex items-center text-sm"),p(re,"class","flex text-sm"),p(X,"class","mt-6 flex justify-between space-x-8"),p(e,"aria-labelledby","question-title-81614"),p(t,"class","bg-white px-4 py-6 shadow sm:p-6 sm:rounded-lg")},m(I,B){L(I,t,B),_(t,e),_(e,a),_(a,s),_(s,c),_(c,r),_(r,d),_(d,y),_(r,b),_(r,g),_(c,i),_(c,o),S&&S.m(o,null),_(s,E),_(s,P),_(P,R),_(R,j),_(j,n),_(n,u),_(u,D),_(e,w),_(e,H),_(H,F),_(F,K),N&&N.m(K,null),_(F,ee),_(F,te),O&&O.m(te,null),_(e,ye),_(e,X),_(X,ae),_(ae,le),_(le,Y),_(Y,W),_(W,$),_(Y,Pe),_(Y,x),Z.m(x,null),_(Y,De),_(Y,se),_(se,Ve),_(X,Te),_(X,re),_(re,ie),_(ie,ne),_(t,Ae)},p(I,B){B&8&&f!==(f=I[8].curriculumProfile.fullname+"")&&ue(y,f),B&8&&T!==(T="/curriculum-profiel/"+I[8].authorId)&&p(d,"href",T),B&8&&A!==(A=I[8].curriculumProfile.institution+"")&&ue(g,A),I[8].createdAt?S?S.p(I,B):(S=nt(I),S.c(),S.m(o,null)):S&&(S.d(1),S=null),I[8].title?N?N.p(I,B):(N=ot(I),N.c(),N.m(K,null)):N&&(N.d(1),N=null),I[8].text?O?O.p(I,B):(O=ft(I),O.c(),O.m(te,null)):O&&(O.d(1),O=null),B&14&&me!==(me="/overleg/"+I[2]+"/"+I[1].id+"/"+I[8].id)&&p(F,"href",me),ge===(ge=Ne(I))&&Z?Z.p(I,B):(Z.d(1),Z=ge(I),Z&&(Z.c(),Z.m(x,null)))},d(I){I&&m(t),S&&S.d(),N&&N.d(),O&&O.d(),Z.d()}}}function wt(l){let t,e,a=l[1]&&rt(l);return{c(){a&&a.c(),t=we()},l(s){a&&a.l(s),t=we()},m(s,c){a&&a.m(s,c),L(s,t,c),e=!0},p(s,[c]){s[1]?a?(a.p(s,c),c&2&&V(a,1)):(a=rt(s),a.c(),V(a,1),a.m(t.parentNode,t)):a&&(Ee(),z(a,1,1,()=>{a=null}),je())},i(s){e||(V(a),e=!0)},o(s){z(a),e=!1},d(s){a&&a.d(s),s&&m(t)}}}function yt(l,t,e){let{firebase:a}=t,{talk:s}=t,{posts:c}=t,{goalId:r}=t;gt(c);function d(b){r=b,e(2,r)}function f(b){a=b,e(0,a)}function y(b){r=b,e(2,r)}function T(b){s=b,e(1,s)}return l.$$set=b=>{"firebase"in b&&e(0,a=b.firebase),"talk"in b&&e(1,s=b.talk),"posts"in b&&e(3,c=b.posts),"goalId"in b&&e(2,r=b.goalId)},[a,s,r,c,d,f,y,T]}class Pt extends Xe{constructor(t){super();$e(this,t,yt,wt,xe,{firebase:0,talk:1,posts:3,goalId:2})}}function ct(l){let t,e,a,s,c,r,d,f=l[0]&&dt(l);function y(i){l[13](i)}function T(i){l[14](i)}function b(i){l[15](i)}function A(i){l[16](i)}let g={};return l[3]!==void 0&&(g.talk=l[3]),l[5]!==void 0&&(g.posts=l[5]),l[2]!==void 0&&(g.firebase=l[2]),l[1].params.goalId!==void 0&&(g.goalId=l[1].params.goalId),e=new Pt({props:g}),G.push(()=>M(e,"talk",y)),G.push(()=>M(e,"posts",T)),G.push(()=>M(e,"firebase",b)),G.push(()=>M(e,"goalId",A)),{c(){f&&f.c(),t=C(),ce(e.$$.fragment)},l(i){f&&f.l(i),t=q(i),de(e.$$.fragment,i)},m(i,o){f&&f.m(i,o),L(i,t,o),pe(e,i,o),d=!0},p(i,o){i[0]?f?(f.p(i,o),o&1&&V(f,1)):(f=dt(i),f.c(),V(f,1),f.m(t.parentNode,t)):f&&(Ee(),z(f,1,1,()=>{f=null}),je());const E={};!a&&o&8&&(a=!0,E.talk=i[3],U(()=>a=!1)),!s&&o&32&&(s=!0,E.posts=i[5],U(()=>s=!1)),!c&&o&4&&(c=!0,E.firebase=i[2],U(()=>c=!1)),!r&&o&2&&(r=!0,E.goalId=i[1].params.goalId,U(()=>r=!1)),e.$set(E)},i(i){d||(V(f),V(e.$$.fragment,i),d=!0)},o(i){z(f),z(e.$$.fragment,i),d=!1},d(i){f&&f.d(i),i&&m(t),_e(e,i)}}}function dt(l){let t,e,a;function s(r){l[12](r)}let c={title:l[0].title};return l[6]!==void 0&&(c.breadcrumbs=l[6]),t=new kt({props:c}),G.push(()=>M(t,"breadcrumbs",s)),{c(){ce(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,d){pe(t,r,d),a=!0},p(r,d){const f={};d&1&&(f.title=r[0].title),!e&&d&64&&(e=!0,f.breadcrumbs=r[6],U(()=>e=!1)),t.$set(f)},i(r){a||(V(t.$$.fragment,r),a=!0)},o(r){z(t.$$.fragment,r),a=!1},d(r){_e(t,r)}}}function Dt(l){let t,e,a,s,c,r,d,f;function y(o){l[8](o)}function T(o){l[9](o)}function b(o){l[10](o)}function A(o){l[11](o)}let g={};l[0]!==void 0&&(g.goal=l[0]),l[1].params.goalId!==void 0&&(g.goalId=l[1].params.goalId),l[2]!==void 0&&(g.firebase=l[2]),l[4]!==void 0&&(g.mounted=l[4]),t=new It({props:g}),G.push(()=>M(t,"goal",y)),G.push(()=>M(t,"goalId",T)),G.push(()=>M(t,"firebase",b)),G.push(()=>M(t,"mounted",A));let i=l[4]&&ct(l);return{c(){ce(t.$$.fragment),r=C(),i&&i.c(),d=we()},l(o){de(t.$$.fragment,o),r=q(o),i&&i.l(o),d=we()},m(o,E){pe(t,o,E),L(o,r,E),i&&i.m(o,E),L(o,d,E),f=!0},p(o,[E]){const P={};!e&&E&1&&(e=!0,P.goal=o[0],U(()=>e=!1)),!a&&E&2&&(a=!0,P.goalId=o[1].params.goalId,U(()=>a=!1)),!s&&E&4&&(s=!0,P.firebase=o[2],U(()=>s=!1)),!c&&E&16&&(c=!0,P.mounted=o[4],U(()=>c=!1)),t.$set(P),o[4]?i?(i.p(o,E),E&16&&V(i,1)):(i=ct(o),i.c(),V(i,1),i.m(d.parentNode,d)):i&&(Ee(),z(i,1,1,()=>{i=null}),je())},i(o){f||(V(t.$$.fragment,o),V(i),f=!0)},o(o){z(t.$$.fragment,o),z(i),f=!1},d(o){_e(t,o),o&&m(r),i&&i.d(o),o&&m(d)}}}function Vt(l,t,e){let a,s;at(l,Se,u=>e(1,a=u)),at(l,vt,u=>e(7,s=u));let c,r,d,f=!1,y=[];async function T(){let u=await c.firestore(),D=u.collection("talk").doc(a.params.talkId),w=await D.get();w.exists&&(e(3,d=w.data()),e(3,d.id=D.id,d),(await u.collection("talk").doc(d.id).collection("posts").get()).forEach(K=>{let ee=K.data();ee.id=K.id,e(5,y=[...y,ee])}))}let b;function A(u){r=u,e(0,r)}function g(u){l.$$.not_equal(a.params.goalId,u)&&(a.params.goalId=u,Se.set(a))}function i(u){c=u,e(2,c),e(7,s)}function o(u){f=u,e(4,f),e(7,s)}function E(u){b=u,e(6,b),e(0,r),e(1,a)}function P(u){d=u,e(3,d)}function R(u){y=u,e(5,y)}function j(u){c=u,e(2,c),e(7,s)}function n(u){l.$$.not_equal(a.params.goalId,u)&&(a.params.goalId=u,Se.set(a))}return l.$$.update=()=>{l.$$.dirty&128&&(async()=>{s&&(e(2,c=s),await T(),e(4,f=!0))})(),l.$$.dirty&3&&r&&e(6,b=[{url:"/curriculum",value:"Curriculum"},{url:"/leerdoel/"+r.id,value:"Leerdoel: "+r.title},{url:a.path,value:"Overleg"}])},[r,a,c,d,f,y,b,s,A,g,i,o,E,P,R,j,n]}class Yt extends Xe{constructor(t){super();$e(this,t,Vt,Dt,xe,{})}}export{Yt as default};
