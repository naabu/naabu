import{S as be,i as ge,s as we,Y as W,Z as q,j as ue,k as O,l as ne,m as fe,n as T,o as ve,f as S,_ as F,x as Z,u as Q,v as de,d as f,t as D,g as z,O as Se,e as E,c as P,a as k,b as c,H as p,D as Re,E as ke,h as Ie,w as Ve,M as je,r as Ne}from"../../../chunks/vendor-ef0a5b69.js";import{R as Be}from"../../../chunks/revision-573df816.js";import{p as ye}from"../../../chunks/stores-2d9a71bb.js";import{f as He}from"../../../chunks/store-6c10047c.js";import{e as Oe}from"../../../chunks/helper-83b9a453.js";import{B as Te}from"../../../chunks/breadcrumbPageTitle-ab7a74b1.js";import{a as Le}from"../../../chunks/helper-d6a45b8d.js";import"../../../chunks/tabs-86d92abc.js";import"../../../chunks/navigation-51f4a605.js";import"../../../chunks/singletons-12a22614.js";/* empty css                                                         */import"../../../chunks/helper-9858c370.js";import"../../../chunks/helper-821c0d77.js";import"../../../chunks/show-4db925d1.js";function Me(r){let i;return{c(){i=D("Loading...")},l(e){i=z(e,"Loading...")},m(e,n){S(e,i,n)},p:Se,d(e){e&&f(i)}}}function Ce(r){let i,e,n,s,v,a,o,h,d,u,l,_,w,V,L,g,b,R,t,I,A,N,j,M,G,C=r[0].title+"",X,x,J,le,K=r[0].description+"",$,ee,U,B=r[2]!==null&&Ee(r),y=r[3]!==null&&De(r);return{c(){i=E("div"),e=E("div"),n=E("div"),s=Re("svg"),v=Re("path"),a=O(),o=E("div"),h=E("h3"),d=D("Je bekijkt een revisie"),u=E("br"),l=O(),_=E("div"),w=E("p"),V=D("Wil je de laatste versie van het leerdoel zien ga terug naar de"),L=O(),g=E("p"),b=E("a"),R=D("hoofdpagina"),I=O(),A=E("p"),B&&B.c(),N=O(),y&&y.c(),j=O(),M=E("div"),G=D("Titel: "),X=D(C),x=O(),J=E("div"),le=D("Omschrijving: "),$=D(K),ee=O(),U=E("div"),this.h()},l(m){i=P(m,"DIV",{class:!0});var H=k(i);e=P(H,"DIV",{class:!0});var ie=k(e);n=P(ie,"DIV",{class:!0});var _e=k(n);s=ke(_e,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var ce=k(s);v=ke(ce,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),k(v).forEach(f),ce.forEach(f),_e.forEach(f),a=T(ie),o=P(ie,"DIV",{class:!0});var se=k(o);h=P(se,"H3",{class:!0});var oe=k(h);d=z(oe,"Je bekijkt een revisie"),u=P(oe,"BR",{}),oe.forEach(f),l=T(se),_=P(se,"DIV",{class:!0});var Y=k(_);w=P(Y,"P",{});var pe=k(w);V=z(pe,"Wil je de laatste versie van het leerdoel zien ga terug naar de"),pe.forEach(f),L=T(Y),g=P(Y,"P",{});var he=k(g);b=P(he,"A",{class:!0,href:!0});var me=k(b);R=z(me,"hoofdpagina"),me.forEach(f),he.forEach(f),I=T(Y),A=P(Y,"P",{class:!0});var re=k(A);B&&B.l(re),N=T(re),y&&y.l(re),re.forEach(f),Y.forEach(f),se.forEach(f),ie.forEach(f),H.forEach(f),j=T(m),M=P(m,"DIV",{class:!0});var te=k(M);G=z(te,"Titel: "),X=z(te,C),te.forEach(f),x=T(m),J=P(m,"DIV",{class:!0});var ae=k(J);le=z(ae,"Omschrijving: "),$=z(ae,K),ae.forEach(f),ee=T(m),U=P(m,"DIV",{class:!0});var Ae=k(U);Ae.forEach(f),this.h()},h(){c(v,"fill-rule","evenodd"),c(v,"d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"),c(v,"clip-rule","evenodd"),c(s,"class","h-5 w-5 text-yellow-400"),c(s,"xmlns","http://www.w3.org/2000/svg"),c(s,"viewBox","0 0 20 20"),c(s,"fill","currentColor"),c(s,"aria-hidden","true"),c(n,"class","flex-shrink-0"),c(h,"class","text-sm font-medium text-yellow-800"),c(b,"class","underline"),c(b,"href",t="/leerdoel/"+r[0].goalId),c(A,"class","space-x-4 mt-4"),c(_,"class","mt-2 text-sm text-yellow-700"),c(o,"class","ml-3"),c(e,"class","flex"),c(i,"class","mt-3 rounded-md bg-yellow-50 p-4"),c(M,"class","mt-8"),c(J,"class","mt-8"),c(U,"class","mt-16")},m(m,H){S(m,i,H),p(i,e),p(e,n),p(n,s),p(s,v),p(e,a),p(e,o),p(o,h),p(h,d),p(h,u),p(o,l),p(o,_),p(_,w),p(w,V),p(_,L),p(_,g),p(g,b),p(b,R),p(_,I),p(_,A),B&&B.m(A,null),p(A,N),y&&y.m(A,null),S(m,j,H),S(m,M,H),p(M,G),p(M,X),S(m,x,H),S(m,J,H),p(J,le),p(J,$),S(m,ee,H),S(m,U,H)},p(m,H){H&1&&t!==(t="/leerdoel/"+m[0].goalId)&&c(b,"href",t),m[2]!==null?B?B.p(m,H):(B=Ee(m),B.c(),B.m(A,N)):B&&(B.d(1),B=null),m[3]!==null?y?y.p(m,H):(y=De(m),y.c(),y.m(A,null)):y&&(y.d(1),y=null),H&1&&C!==(C=m[0].title+"")&&Ie(X,C),H&1&&K!==(K=m[0].description+"")&&Ie($,K)},d(m){m&&f(i),B&&B.d(),y&&y.d(),m&&f(j),m&&f(M),m&&f(x),m&&f(J),m&&f(ee),m&&f(U)}}}function Ee(r){let i,e,n,s,v,a,o,h,d,u,l,_,w,V,L,g=r[1]!==null&&Pe(r);return{c(){i=E("span"),e=E("a"),n=D("\u2190 Oudere versie"),v=O(),g&&g.c(),a=O(),o=E("span"),h=E("a"),d=D("Huidige versie"),l=D(`
                (`),_=E("a"),w=D("wijz"),L=D(")"),this.h()},l(b){i=P(b,"SPAN",{});var R=k(i);e=P(R,"A",{class:!0,href:!0});var t=k(e);n=z(t,"\u2190 Oudere versie"),t.forEach(f),v=T(R),g&&g.l(R),R.forEach(f),a=T(b),o=P(b,"SPAN",{});var I=k(o);h=P(I,"A",{class:!0,href:!0});var A=k(h);d=z(A,"Huidige versie"),A.forEach(f),l=z(I,`
                (`),_=P(I,"A",{"data-cy":!0,class:!0,href:!0});var N=k(_);w=z(N,"wijz"),N.forEach(f),L=z(I,")"),I.forEach(f),this.h()},h(){c(e,"class","underline"),c(e,"href",s="/revisie/"+r[2].revisionId),c(h,"class","underline"),c(h,"href",u="/revisie/"+r[0].revisionId),c(_,"data-cy","show-diff-link"),c(_,"class","underline"),c(_,"href",V="/revisie/"+r[0].revisionId+"/diff/"+r[2].revisionId)},m(b,R){S(b,i,R),p(i,e),p(e,n),p(i,v),g&&g.m(i,null),S(b,a,R),S(b,o,R),p(o,h),p(h,d),p(o,l),p(o,_),p(_,w),p(o,L)},p(b,R){R&4&&s!==(s="/revisie/"+b[2].revisionId)&&c(e,"href",s),b[1]!==null?g?g.p(b,R):(g=Pe(b),g.c(),g.m(i,null)):g&&(g.d(1),g=null),R&1&&u!==(u="/revisie/"+b[0].revisionId)&&c(h,"href",u),R&5&&V!==(V="/revisie/"+b[0].revisionId+"/diff/"+b[2].revisionId)&&c(_,"href",V)},d(b){b&&f(i),g&&g.d(),b&&f(a),b&&f(o)}}}function Pe(r){let i,e,n,s,v;return{c(){i=D("("),e=E("a"),n=D("wijz"),v=D(")"),this.h()},l(a){i=z(a,"("),e=P(a,"A",{class:!0,href:!0});var o=k(e);n=z(o,"wijz"),o.forEach(f),v=z(a,")"),this.h()},h(){c(e,"class","underline"),c(e,"href",s="/revisie/"+r[2].revisionId+"/diff/"+r[1].revisionId)},m(a,o){S(a,i,o),S(a,e,o),p(e,n),S(a,v,o)},p(a,o){o&6&&s!==(s="/revisie/"+a[2].revisionId+"/diff/"+a[1].revisionId)&&c(e,"href",s)},d(a){a&&f(i),a&&f(e),a&&f(v)}}}function De(r){let i,e,n,s,v,a,o,h,d;return{c(){i=E("span"),e=E("a"),n=D("Nieuwe versie \u2192"),v=D(`
                (`),a=E("a"),o=D("wijz"),d=D(")"),this.h()},l(u){i=P(u,"SPAN",{});var l=k(i);e=P(l,"A",{class:!0,href:!0});var _=k(e);n=z(_,"Nieuwe versie \u2192"),_.forEach(f),v=z(l,`
                (`),a=P(l,"A",{class:!0,href:!0});var w=k(a);o=z(w,"wijz"),w.forEach(f),d=z(l,")"),l.forEach(f),this.h()},h(){c(e,"class","underline"),c(e,"href",s="/revisie/"+r[3].revisionId),c(a,"class","underline"),c(a,"href",h="/revisie/"+r[3].revisionId+"/diff/"+r[0].revisionId)},m(u,l){S(u,i,l),p(i,e),p(e,n),p(i,v),p(i,a),p(a,o),p(i,d)},p(u,l){l&8&&s!==(s="/revisie/"+u[3].revisionId)&&c(e,"href",s),l&9&&h!==(h="/revisie/"+u[3].revisionId+"/diff/"+u[0].revisionId)&&c(a,"href",h)},d(u){u&&f(i)}}}function Je(r){let i,e,n,s,v;function a(l){r[5](l)}let o={};r[0]!==void 0&&(o.revision=r[0]),i=new Be({props:o}),W.push(()=>q(i,"revision",a));function h(l,_){return l[4]?Me:Ce}let d=h(r),u=d(r);return{c(){ue(i.$$.fragment),n=O(),u.c(),s=ne()},l(l){fe(i.$$.fragment,l),n=T(l),u.l(l),s=ne()},m(l,_){ve(i,l,_),S(l,n,_),u.m(l,_),S(l,s,_),v=!0},p(l,[_]){const w={};!e&&_&1&&(e=!0,w.revision=l[0],F(()=>e=!1)),i.$set(w),d===(d=h(l))&&u?u.p(l,_):(u.d(1),u=d(l),u&&(u.c(),u.m(s.parentNode,s)))},i(l){v||(Z(i.$$.fragment,l),v=!0)},o(l){Q(i.$$.fragment,l),v=!1},d(l){de(i,l),l&&f(n),u.d(l),l&&f(s)}}}function We(r,i,e){let{revision:n}=i,{previousPreviousRevision:s}=i,{previousRevision:v}=i,{nextRevision:a}=i,{loading:o}=i;function h(d){n=d,e(0,n)}return r.$$set=d=>{"revision"in d&&e(0,n=d.revision),"previousPreviousRevision"in d&&e(1,s=d.previousPreviousRevision),"previousRevision"in d&&e(2,v=d.previousRevision),"nextRevision"in d&&e(3,a=d.nextRevision),"loading"in d&&e(4,o=d.loading)},[n,s,v,a,o,h]}class qe extends be{constructor(i){super();ge(this,i,We,Je,we,{revision:0,previousPreviousRevision:1,previousRevision:2,nextRevision:3,loading:4})}}function ze(r){let i,e,n,s,v,a,o,h,d,u;function l(t){r[11](t)}let _={title:r[1].title};r[2]!==void 0&&(_.breadcrumbs=r[2]),i=new Te({props:_}),W.push(()=>q(i,"breadcrumbs",l));function w(t){r[12](t)}function V(t){r[13](t)}function L(t){r[14](t)}function g(t){r[15](t)}function b(t){r[16](t)}let R={};return r[3]!==void 0&&(R.revision=r[3]),r[4]!==void 0&&(R.previousPreviousRevision=r[4]),r[5]!==void 0&&(R.previousRevision=r[5]),r[6]!==void 0&&(R.nextRevision=r[6]),r[7]!==void 0&&(R.loading=r[7]),s=new qe({props:R}),W.push(()=>q(s,"revision",w)),W.push(()=>q(s,"previousPreviousRevision",V)),W.push(()=>q(s,"previousRevision",L)),W.push(()=>q(s,"nextRevision",g)),W.push(()=>q(s,"loading",b)),{c(){ue(i.$$.fragment),n=O(),ue(s.$$.fragment)},l(t){fe(i.$$.fragment,t),n=T(t),fe(s.$$.fragment,t)},m(t,I){ve(i,t,I),S(t,n,I),ve(s,t,I),u=!0},p(t,I){const A={};I&2&&(A.title=t[1].title),!e&&I&4&&(e=!0,A.breadcrumbs=t[2],F(()=>e=!1)),i.$set(A);const N={};!v&&I&8&&(v=!0,N.revision=t[3],F(()=>v=!1)),!a&&I&16&&(a=!0,N.previousPreviousRevision=t[4],F(()=>a=!1)),!o&&I&32&&(o=!0,N.previousRevision=t[5],F(()=>o=!1)),!h&&I&64&&(h=!0,N.nextRevision=t[6],F(()=>h=!1)),!d&&I&128&&(d=!0,N.loading=t[7],F(()=>d=!1)),s.$set(N)},i(t){u||(Z(i.$$.fragment,t),Z(s.$$.fragment,t),u=!0)},o(t){Q(i.$$.fragment,t),Q(s.$$.fragment,t),u=!1},d(t){de(i,t),t&&f(n),de(s,t)}}}function Fe(r){let i,e,n=r[0]&&r[3]!==null&&r[1]&&ze(r);return{c(){n&&n.c(),i=ne()},l(s){n&&n.l(s),i=ne()},m(s,v){n&&n.m(s,v),S(s,i,v),e=!0},p(s,[v]){s[0]&&s[3]!==null&&s[1]?n?(n.p(s,v),v&11&&Z(n,1)):(n=ze(s),n.c(),Z(n,1),n.m(i.parentNode,i)):n&&(Ne(),Q(n,1,1,()=>{n=null}),Ve())},i(s){e||(Z(n),e=!0)},o(s){Q(n),e=!1},d(s){n&&n.d(s),s&&f(i)}}}function Ge(r,i,e){let n,s;je(r,ye,j=>e(9,n=j)),je(r,He,j=>e(10,s=j));let v,a,o=null,h=!1,d=null,u=null,l=null,_=!1,w,V;const L=async()=>{e(7,_=!0),e(5,u=null),e(6,l=null),await g(),e(7,_=!1)};async function g(){let j=a.collection("revisions").doc(n.params.id),M=await j.get();if(M.exists){e(3,o=M.data()),e(3,o.revisionId=j.id,o);let G=await a.collection("goals").doc(o.goalId).get();if(G.exists){e(1,w=G.data()),e(1,w.id=o.goalId,w);let C=Oe(w.revisionList,o.revisionId);e(6,l=C.nextRevision),l!==null&&e(6,l.revisionId=l.id,l),e(5,u=C.previousRevision),u!==null&&e(5,u.revisionId=u.id,u),e(4,d=C.previousPreviousRevision),d!==null&&e(4,d.revisionId=d.id,d)}}}function b(j){V=j,e(2,V),e(1,w),e(9,n)}function R(j){o=j,e(3,o)}function t(j){d=j,e(4,d)}function I(j){u=j,e(5,u)}function A(j){l=j,e(6,l)}function N(j){_=j,e(7,_)}return r.$$.update=()=>{r.$$.dirty&518&&w&&(e(2,V=Le(w)),e(2,V=[...V,{url:n.path,value:"Revisie bekijken"}])),r.$$.dirty&1280&&(async()=>{s&&(e(8,v=s),a=await v.firestore(),e(0,h=!0),await g())})(),r.$$.dirty&513&&n.params.id&&h&&L()},[h,w,V,o,d,u,l,_,v,n,s,b,R,t,I,A,N]}class oi extends be{constructor(i){super();ge(this,i,Ge,Fe,we,{})}}export{oi as default};
