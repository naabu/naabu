import{S as q,i as G,s as H,a3 as te,j as w,k as S,e as K,m as j,n as R,c as W,a as X,d as h,b as se,o as y,f as C,F as Z,G as J,H as le,_ as T,x as g,u as k,v as F,l as E,r as L,w as Q,K as I,A as fe,a6 as oe,Y as z,Z as B}from"../../chunks/vendor-05d04a9e.js";import{F as ce}from"../../chunks/form-a50103f8.js";import{s as U}from"../../chunks/stores-e07732fe.js";import{C as ne}from"../../chunks/curriculum-964ccd5e.js";import{R as ae}from"../../chunks/resultFeedback-d6392221.js";import{B as me}from"../../chunks/Button-e99ba711.js";import{f as pe}from"../../chunks/store-fa4e989c.js";import{B as be}from"../../chunks/breadcrumbPageTitle-29d2ecc5.js";import"../../chunks/tabs-01b39912.js";import"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";/* empty css                                                        */import"../../chunks/show-2c607e3f.js";const{setTimeout:v}=oe;function x(t){let u,i,c,s,f,a,n,e,r,o,_,d,p,P,m;function D(l){t[8](l)}let O={subSelected:"edit",isOwnProfile:"true"};t[0]!==void 0&&(O.curriculumProfile=t[0]),u=new ne({props:O}),z.push(()=>B(u,"curriculumProfile",D));function ue(l){t[9](l)}let A={};t[3]!==void 0&&(A.alert=t[3]),s=new ae({props:A}),z.push(()=>B(s,"alert",ue));function ie(l){t[10](l)}let N={isEdit:"true"};return t[0]!==void 0&&(N.curriculumProfile=t[0]),e=new ce({props:N}),z.push(()=>B(e,"curriculumProfile",ie)),d=new me({props:{isDisabled:t[1],dataTest:"submit-button",content:"Curriculum profiel wijzigen",isSubmit:!0,color:"primary"}}),{c(){w(u.$$.fragment),c=S(),w(s.$$.fragment),a=S(),n=K("form"),w(e.$$.fragment),o=S(),_=K("div"),w(d.$$.fragment),this.h()},l(l){j(u.$$.fragment,l),c=R(l),j(s.$$.fragment,l),a=R(l),n=W(l,"FORM",{});var b=X(n);j(e.$$.fragment,b),o=R(b),_=W(b,"DIV",{class:!0});var M=X(_);j(d.$$.fragment,M),M.forEach(h),b.forEach(h),this.h()},h(){se(_,"class","mt-4 flex justify-end")},m(l,b){y(u,l,b),C(l,c,b),y(s,l,b),C(l,a,b),C(l,n,b),y(e,n,null),Z(n,o),Z(n,_),y(d,_,null),p=!0,P||(m=J(n,"submit",le(t[5])),P=!0)},p(l,b){const M={};!i&&b&1&&(i=!0,M.curriculumProfile=l[0],T(()=>i=!1)),u.$set(M);const V={};!f&&b&8&&(f=!0,V.alert=l[3],T(()=>f=!1)),s.$set(V);const Y={};!r&&b&1&&(r=!0,Y.curriculumProfile=l[0],T(()=>r=!1)),e.$set(Y);const $={};b&2&&($.isDisabled=l[1]),d.$set($)},i(l){p||(g(u.$$.fragment,l),g(s.$$.fragment,l),g(e.$$.fragment,l),g(d.$$.fragment,l),p=!0)},o(l){k(u.$$.fragment,l),k(s.$$.fragment,l),k(e.$$.fragment,l),k(d.$$.fragment,l),p=!1},d(l){F(u,l),l&&h(c),F(s,l),l&&h(a),l&&h(n),F(e),F(d),P=!1,m()}}}function _e(t){let u=!1,i=()=>{u=!1},c,s,f,a,n;te(t[7]);let e=t[4].player&&x(t);return{c(){e&&e.c(),s=E()},l(r){e&&e.l(r),s=E()},m(r,o){e&&e.m(r,o),C(r,s,o),f=!0,a||(n=J(window,"scroll",()=>{u=!0,clearTimeout(c),c=v(i,100),t[7]()}),a=!0)},p(r,[o]){o&4&&!u&&(u=!0,clearTimeout(c),scrollTo(window.pageXOffset,r[2]),c=v(i,100)),r[4].player?e?(e.p(r,o),o&16&&g(e,1)):(e=x(r),e.c(),g(e,1),e.m(s.parentNode,s)):e&&(L(),k(e,1,1,()=>{e=null}),Q())},i(r){f||(g(e),f=!0)},o(r){k(e),f=!1},d(r){e&&e.d(r),r&&h(s),a=!1,n()}}}function ee(){return{success:!1,successMessage:"",error:!1,errorCode:"",errorMessage:""}}function de(t,u,i){let c;I(t,U,m=>i(4,c=m));let{firebase:s}=u,{curriculumProfile:f}=u,a=!1,n,e,r=ee();async function o(){i(1,a=!0);let m=f;i(3,r=ee());try{let O=await e.collection("curriculumProfile").doc(m.id).set(m);i(3,r.success=!0,r),i(3,r.successTitle="Curriculum profiel gewijzigd",r),i(3,r.successMessage="id: "+m.id,r)}catch(D){i(3,r.error=!0,r),i(3,r.errorCode=D.code,r),i(3,r.errorMessage=D.message,r)}i(2,n=0),setTimeout(()=>{i(1,a=!1)},5e3)}fe(async()=>{e=await s.firestore()});function _(){i(2,n=window.pageYOffset)}function d(m){f=m,i(0,f)}function p(m){r=m,i(3,r)}function P(m){f=m,i(0,f)}return t.$$set=m=>{"firebase"in m&&i(6,s=m.firebase),"curriculumProfile"in m&&i(0,f=m.curriculumProfile)},[f,a,n,r,c,o,s,_,d,p,P]}class ge extends q{constructor(u){super();G(this,u,de,_e,H,{firebase:6,curriculumProfile:0})}}function re(t){let u,i,c,s;function f(e){t[6](e)}function a(e){t[7](e)}let n={};return t[0]!==void 0&&(n.firebase=t[0]),t[1]!==void 0&&(n.curriculumProfile=t[1]),u=new ge({props:n}),z.push(()=>B(u,"firebase",f)),z.push(()=>B(u,"curriculumProfile",a)),{c(){w(u.$$.fragment)},l(e){j(u.$$.fragment,e)},m(e,r){y(u,e,r),s=!0},p(e,r){const o={};!i&&r&1&&(i=!0,o.firebase=e[0],T(()=>i=!1)),!c&&r&2&&(c=!0,o.curriculumProfile=e[1],T(()=>c=!1)),u.$set(o)},i(e){s||(g(u.$$.fragment,e),s=!0)},o(e){k(u.$$.fragment,e),s=!1},d(e){F(u,e)}}}function ke(t){let u,i,c,s,f;function a(r){t[5](r)}let n={title:"Curriculum profiel wijzigen"};t[3]!==void 0&&(n.breadcrumbs=t[3]),u=new be({props:n}),z.push(()=>B(u,"breadcrumbs",a));let e=t[2]&&re(t);return{c(){w(u.$$.fragment),c=S(),e&&e.c(),s=E()},l(r){j(u.$$.fragment,r),c=R(r),e&&e.l(r),s=E()},m(r,o){y(u,r,o),C(r,c,o),e&&e.m(r,o),C(r,s,o),f=!0},p(r,[o]){const _={};!i&&o&8&&(i=!0,_.breadcrumbs=r[3],T(()=>i=!1)),u.$set(_),r[2]?e?(e.p(r,o),o&4&&g(e,1)):(e=re(r),e.c(),g(e,1),e.m(s.parentNode,s)):e&&(L(),k(e,1,1,()=>{e=null}),Q())},i(r){f||(g(u.$$.fragment,r),g(e),f=!0)},o(r){k(u.$$.fragment,r),k(e),f=!1},d(r){F(u,r),r&&h(c),e&&e.d(r),r&&h(s)}}}function Pe(t,u,i){let c,s;I(t,U,p=>i(8,c=p)),I(t,pe,p=>i(4,s=p));let f,a,n=!1;async function e(){let p=await f.firestore();if(c.user&&c.player.curriculumProfileId){let P=p.collection("curriculumProfile").doc(c.player.curriculumProfileId),m=await P.get();m.exists&&(i(1,a=m.data()),i(1,a.id=P.id,a))}}let r=[{url:"/curriculum",value:"Curriculum"},{url:"/curriculum-profiel/wijzigen",value:"Curriculum profiel wijzigen"}];function o(p){r=p,i(3,r)}function _(p){f=p,i(0,f),i(4,s)}function d(p){a=p,i(1,a)}return t.$$.update=()=>{t.$$.dirty&16&&(async()=>{s&&(i(0,f=s),await e(),i(2,n=!0))})()},[f,a,n,r,s,o,_,d]}class Ee extends q{constructor(u){super();G(this,u,Pe,ke,H,{})}}export{Ee as default};
