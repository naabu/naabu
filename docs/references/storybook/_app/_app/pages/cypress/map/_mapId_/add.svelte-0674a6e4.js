import{S as P,i as S,s as g,e as d,t as u,c as b,a as j,g as _,d as l,b as v,f as m,F as w,k as C,l as k,n as D,O as y,K as p}from"../../../../chunks/vendor-05d04a9e.js";import{p as I,s as M}from"../../../../chunks/stores-e07732fe.js";import{f as X}from"../../../../chunks/store-fa4e989c.js";function h(r){let s,o;return{c(){s=d("div"),o=u("Map successfully created!"),this.h()},l(i){s=b(i,"DIV",{"data-test":!0});var t=j(s);o=_(t,"Map successfully created!"),t.forEach(l),this.h()},h(){v(s,"data-test","complete")},m(i,t){m(i,s,t),w(s,o)},d(i){i&&l(s)}}}function Y(r){let s,o,i,t,a=r[0]&&h();return{c(){s=u("Creating a new map "),o=d("br"),i=C(),a&&a.c(),t=k()},l(e){s=_(e,"Creating a new map "),o=b(e,"BR",{}),i=D(e),a&&a.l(e),t=k()},m(e,n){m(e,s,n),m(e,o,n),m(e,i,n),a&&a.m(e,n),m(e,t,n)},p(e,[n]){e[0]?a||(a=h(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:y,o:y,d(e){e&&l(s),e&&l(o),e&&l(i),a&&a.d(e),e&&l(t)}}}function N(r,s,o){let i,t,a;p(r,I,c=>o(3,i=c)),p(r,M,c=>o(4,t=c)),p(r,X,c=>o(5,a=c));let e,n=!1,f=!1;function x(){return{image:"https://firebasestorage.googleapis.com/v0/b/expwis.appspot.com/o/map1.png?alt=media&token=12e1ee07-a782-40c1-addc-e2179fc89d95",title:"Map1",authorId:t.user.uid,locations:[{accessLocations:["1cjn3"],goals:[],id:"z0ub6",isStartLocation:!0,markerPositionX:"400",markerPositionY:"400",name:"Start",textPositionX:"400",textPositionY:"450"},{id:"1cjn3",accessLocations:[],goals:[],isStartLocation:!1,markerPositionX:"500",markerPositionY:"650",name:"Location 2",textPositionX:"500",textPositionY:"700"}],paths:[{endLocation:"1cjn3",endLocationIndex:1,endLocationName:"Location1",points:'[["400","400"],["650", "500"]]',startLocation:"z0ub6",startLocationName:"Start"}]}}return r.$$.update=()=>{r.$$.dirty&62&&(async()=>{if(a&&(o(1,e=a),(t.environment==="cypress"||t.environment==="test"||t.environment==="development")&&t.user&&!t.user.isAnonymous&&!n)){o(2,n=!0);let c=await e.firestore();try{await c.collection("maps").doc(i.params.mapId).set(x()),o(0,f=!0)}catch(L){console.log(L)}}})()},[f,e,n,i,t,a]}class B extends P{constructor(s){super();S(this,s,N,Y,g,{})}}export{B as default};
