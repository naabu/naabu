import{S as x,i as C,s as w,e as p,t as y,c as _,a as I,g as b,d,b as S,f as m,F as T,k as j,l as h,n as A,O as k,K as u}from"../../../../../chunks/vendor-05d04a9e.js";import{p as D,s as M}from"../../../../../chunks/stores-e07732fe.js";import{f as G}from"../../../../../chunks/store-fa4e989c.js";function g(c){let o,a;return{c(){o=p("div"),a=y("Module successfully created!"),this.h()},l(r){o=_(r,"DIV",{"data-test":!0});var t=I(o);a=b(t,"Module successfully created!"),t.forEach(d),this.h()},h(){S(o,"data-test","complete")},m(r,t){m(r,o,t),T(o,a)},d(r){r&&d(o)}}}function N(c){let o,a,r,t,s=c[0]&&g();return{c(){o=y("Creating a module "),a=p("br"),r=j(),s&&s.c(),t=h()},l(e){o=b(e,"Creating a module "),a=_(e,"BR",{}),r=A(e),s&&s.l(e),t=h()},m(e,l){m(e,o,l),m(e,a,l),m(e,r,l),s&&s.m(e,l),m(e,t,l)},p(e,[l]){e[0]?s||(s=g(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:k,o:k,d(e){e&&d(o),e&&d(a),e&&d(r),s&&s.d(e),e&&d(t)}}}function q(c,o,a){let r,t,s;u(c,D,n=>a(3,r=n)),u(c,M,n=>a(4,t=n)),u(c,G,n=>a(5,s=n));let e,l=!1,f=!1;async function v(n){let i=await n.collection("maps").doc(r.params.mapId).get();if(i.exists)return i.data()}return c.$$.update=()=>{c.$$.dirty&62&&(async()=>{if(s&&(a(1,e=s),(t.environment==="cypress"||t.environment==="test"||t.environment==="development")&&t.user&&!t.user.isAnonymous&&!l)){a(2,l=!0);let n=await e.firestore();try{let i=await v(n);i?(i.moduleDescription="Test module 1 description",i.moduleName="Test module 1 title",i.moduleSvg="",i.modifiedAt=e.firestore.Timestamp.now().seconds,i.authorId=t.user.uid,i.locations[0].goals=[{id:"cypress-test-goal-1",title:"Cypress Test Goal 1"}],i.locations[1].goals=[{id:"cypress-test-goal-2",title:"Cypress Test Goal 2"}],i.mapId="map1",await n.collection("modules").doc(r.params.moduleId).set(i),a(0,f=!0)):console.error("map not found to create module for!")}catch(i){console.log(i)}}})()},[f,e,l,r,t,s]}class K extends x{constructor(o){super();C(this,o,q,N,w,{})}}export{K as default};
