import{S as re,i as ie,s as se,Y as N,Z as F,e as y,k as B,t as V,c as E,a as w,d as m,n as S,g as $,b as p,f as T,F as _,h as O,I as ce,j as Z,l as W,m as J,o as M,_ as Y,x as z,u as C,v as Q,w as de,K as ae,r as he}from"../../../chunks/vendor-05d04a9e.js";import{g as q}from"../../../chunks/helper-a37f5850.js";import{s as pe}from"../../../chunks/helper-249596aa.js";import{G as me}from"../../../chunks/goal-80d3ba40.js";import{p as _e}from"../../../chunks/stores-e07732fe.js";import{f as ve}from"../../../chunks/store-fa4e989c.js";import{B as be}from"../../../chunks/breadcrumbPageTitle-29d2ecc5.js";import"../../../chunks/helper-cf411eac.js";import"../../../chunks/tabs-01b39912.js";import"../../../chunks/navigation-51f4a605.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/show-2c607e3f.js";import"../../../chunks/Button-e99ba711.js";/* empty css                                                           */function le(s,e,r){const t=s.slice();return t[2]=e[r],t[4]=r,t}function oe(s){let e,r,t,i,a,n,f,c,o,u,v,I,l,g,A,D,j,b=s[0].revisionList,d=[];for(let h=0;h<b.length;h+=1)d[h]=ue(le(s,b,h));return{c(){e=y("div"),r=y("div"),t=y("div"),i=y("div"),a=y("table"),n=y("thead"),f=y("tr"),c=y("th"),o=B(),u=y("th"),v=V("Auteur"),I=B(),l=y("th"),g=y("span"),A=V("Edit"),D=B(),j=y("tbody");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=E(h,"DIV",{class:!0});var L=w(e);r=E(L,"DIV",{class:!0});var k=w(r);t=E(k,"DIV",{"data-test":!0,class:!0});var P=w(t);i=E(P,"DIV",{class:!0});var G=w(i);a=E(G,"TABLE",{class:!0});var H=w(a);n=E(H,"THEAD",{class:!0});var U=w(n);f=E(U,"TR",{});var R=w(f);c=E(R,"TH",{scope:!0,class:!0}),w(c).forEach(m),o=S(R),u=E(R,"TH",{scope:!0,class:!0});var X=w(u);v=$(X,"Auteur"),X.forEach(m),I=S(R),l=E(R,"TH",{scope:!0,class:!0});var x=w(l);g=E(x,"SPAN",{class:!0});var ee=w(g);A=$(ee,"Edit"),ee.forEach(m),x.forEach(m),R.forEach(m),U.forEach(m),D=S(H),j=E(H,"TBODY",{class:!0});var te=w(j);for(let K=0;K<d.length;K+=1)d[K].l(te);te.forEach(m),H.forEach(m),G.forEach(m),P.forEach(m),k.forEach(m),L.forEach(m),this.h()},h(){p(c,"scope","col"),p(c,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),p(u,"scope","col"),p(u,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),p(g,"class","sr-only"),p(l,"scope","col"),p(l,"class","relative px-6 py-3"),p(n,"class","bg-gray-50"),p(j,"class","bg-white divide-y divide-gray-200"),p(a,"class","min-w-full divide-y divide-gray-200"),p(i,"class","shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"),p(t,"data-test","history-table"),p(t,"class","py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"),p(r,"class","-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"),p(e,"class","flex flex-col mt-8")},m(h,L){T(h,e,L),_(e,r),_(r,t),_(t,i),_(i,a),_(a,n),_(n,f),_(f,c),_(f,o),_(f,u),_(u,v),_(f,I),_(f,l),_(l,g),_(g,A),_(a,D),_(a,j);for(let k=0;k<d.length;k+=1)d[k].m(j,null)},p(h,L){if(L&1){b=h[0].revisionList;let k;for(k=0;k<b.length;k+=1){const P=le(h,b,k);d[k]?d[k].p(P,L):(d[k]=ue(P),d[k].c(),d[k].m(j,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=b.length}},d(h){h&&m(e),ce(d,h)}}}function ge(s){let e=q(s[2].createdAt)+"",r;return{c(){r=V(e)},l(t){r=$(t,e)},m(t,i){T(t,r,i)},p(t,i){i&1&&e!==(e=q(t[2].createdAt)+"")&&O(r,e)},d(t){t&&m(r)}}}function ke(s){let e,r=q(s[2].createdAt)+"",t,i;return{c(){e=y("a"),t=V(r),this.h()},l(a){e=E(a,"A",{"data-test":!0,class:!0,href:!0});var n=w(e);t=$(n,r),n.forEach(m),this.h()},h(){p(e,"data-test","revision-index-"+s[4]),p(e,"class","underline"),p(e,"href",i="/revisie/"+s[2].revisionId+"/diff/"+s[2].previousRevisionId)},m(a,n){T(a,e,n),_(e,t)},p(a,n){n&1&&r!==(r=q(a[2].createdAt)+"")&&O(t,r),n&1&&i!==(i="/revisie/"+a[2].revisionId+"/diff/"+a[2].previousRevisionId)&&p(e,"href",i)},d(a){a&&m(e)}}}function ne(s){let e,r,t=s[2].curriculumProfile.fullname+"",i,a,n,f,c=s[2].curriculumProfile.institution+"",o;return{c(){e=y("div"),r=y("a"),i=V(t),n=B(),f=y("div"),o=V(c),this.h()},l(u){e=E(u,"DIV",{class:!0});var v=w(e);r=E(v,"A",{class:!0,href:!0});var I=w(r);i=$(I,t),I.forEach(m),v.forEach(m),n=S(u),f=E(u,"DIV",{class:!0});var l=w(f);o=$(l,c),l.forEach(m),this.h()},h(){p(r,"class","underline"),p(r,"href",a="/curriculum-profiel/"+s[2].revisionAuthorId),p(e,"class","text-sm text-gray-900"),p(f,"class","text-sm text-gray-500")},m(u,v){T(u,e,v),_(e,r),_(r,i),T(u,n,v),T(u,f,v),_(f,o)},p(u,v){v&1&&t!==(t=u[2].curriculumProfile.fullname+"")&&O(i,t),v&1&&a!==(a="/curriculum-profiel/"+u[2].revisionAuthorId)&&p(r,"href",a),v&1&&c!==(c=u[2].curriculumProfile.institution+"")&&O(o,c)},d(u){u&&m(e),u&&m(n),u&&m(f)}}}function ue(s){let e,r,t,i,a,n,f,c,o,u,v,I,l,g;function A(d,h){return d[2].previousRevisionId?ke:ge}let D=A(s),j=D(s),b=s[2].revisionAuthorId&&s[2].curriculumProfile&&ne(s);return{c(){e=y("tr"),r=y("td"),j.c(),t=B(),i=y("td"),b&&b.c(),a=B(),n=y("td"),f=y("a"),c=V("Bekijken"),u=B(),v=y("a"),I=V("Wijzig"),g=B(),this.h()},l(d){e=E(d,"TR",{"data-test":!0});var h=w(e);r=E(h,"TD",{class:!0});var L=w(r);j.l(L),L.forEach(m),t=S(h),i=E(h,"TD",{class:!0});var k=w(i);b&&b.l(k),k.forEach(m),a=S(h),n=E(h,"TD",{class:!0});var P=w(n);f=E(P,"A",{href:!0,class:!0});var G=w(f);c=$(G,"Bekijken"),G.forEach(m),u=S(P),v=E(P,"A",{href:!0,class:!0});var H=w(v);I=$(H,"Wijzig"),H.forEach(m),P.forEach(m),g=S(h),h.forEach(m),this.h()},h(){p(r,"class","px-6 py-4 whitespace-nowrap"),p(i,"class","px-6 py-4 whitespace-nowrap"),p(f,"href",o="/revisie/"+s[2].revisionId),p(f,"class","text-indigo-600 hover:text-indigo-900"),p(v,"href",l="/revisie/"+s[2].revisionId+"/wijzigen"),p(v,"class","text-indigo-600 hover:text-indigo-900"),p(n,"class","px-6 py-4 whitespace-nowrap text-right text-sm font-medium"),p(e,"data-test","revision"+s[4])},m(d,h){T(d,e,h),_(e,r),j.m(r,null),_(e,t),_(e,i),b&&b.m(i,null),_(e,a),_(e,n),_(n,f),_(f,c),_(n,u),_(n,v),_(v,I),_(e,g)},p(d,h){D===(D=A(d))&&j?j.p(d,h):(j.d(1),j=D(d),j&&(j.c(),j.m(r,null))),d[2].revisionAuthorId&&d[2].curriculumProfile?b?b.p(d,h):(b=ne(d),b.c(),b.m(i,null)):b&&(b.d(1),b=null),h&1&&o!==(o="/revisie/"+d[2].revisionId)&&p(f,"href",o),h&1&&l!==(l="/revisie/"+d[2].revisionId+"/wijzigen")&&p(v,"href",l)},d(d){d&&m(e),j.d(),b&&b.d()}}}function ye(s){let e,r,t,i,a;function n(o){s[1](o)}let f={subSelected:"history"};s[0]!==void 0&&(f.goal=s[0]),e=new me({props:f}),N.push(()=>F(e,"goal",n));let c=s[0].revisionList&&oe(s);return{c(){Z(e.$$.fragment),t=B(),c&&c.c(),i=W()},l(o){J(e.$$.fragment,o),t=S(o),c&&c.l(o),i=W()},m(o,u){M(e,o,u),T(o,t,u),c&&c.m(o,u),T(o,i,u),a=!0},p(o,[u]){const v={};!r&&u&1&&(r=!0,v.goal=o[0],Y(()=>r=!1)),e.$set(v),o[0].revisionList?c?c.p(o,u):(c=oe(o),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},i(o){a||(z(e.$$.fragment,o),a=!0)},o(o){C(e.$$.fragment,o),a=!1},d(o){Q(e,o),o&&m(t),c&&c.d(o),o&&m(i)}}}function Ee(s,e,r){let{goal:t}=e;function i(a){t=a,r(0,t)}return s.$$set=a=>{"goal"in a&&r(0,t=a.goal)},s.$$.update=()=>{if(s.$$.dirty&1&&t.revisionList){for(let a of t.revisionList)a.revisionId=a.id;pe(t.revisionList)}},[t,i]}class we extends re{constructor(e){super();ie(this,e,Ee,ye,se,{goal:0})}}function fe(s){let e,r,t,i,a,n,f;function c(l){s[6](l)}let o={title:s[0].title};s[3]!==void 0&&(o.breadcrumbs=s[3]),e=new be({props:o}),N.push(()=>F(e,"breadcrumbs",c));function u(l){s[7](l)}function v(l){s[8](l)}let I={};return s[0]!==void 0&&(I.goal=s[0]),s[1]!==void 0&&(I.firebase=s[1]),i=new we({props:I}),N.push(()=>F(i,"goal",u)),N.push(()=>F(i,"firebase",v)),{c(){Z(e.$$.fragment),t=B(),Z(i.$$.fragment)},l(l){J(e.$$.fragment,l),t=S(l),J(i.$$.fragment,l)},m(l,g){M(e,l,g),T(l,t,g),M(i,l,g),f=!0},p(l,g){const A={};g&1&&(A.title=l[0].title),!r&&g&8&&(r=!0,A.breadcrumbs=l[3],Y(()=>r=!1)),e.$set(A);const D={};!a&&g&1&&(a=!0,D.goal=l[0],Y(()=>a=!1)),!n&&g&2&&(n=!0,D.firebase=l[1],Y(()=>n=!1)),i.$set(D)},i(l){f||(z(e.$$.fragment,l),z(i.$$.fragment,l),f=!0)},o(l){C(e.$$.fragment,l),C(i.$$.fragment,l),f=!1},d(l){Q(e,l),l&&m(t),Q(i,l)}}}function je(s){let e,r,t=s[2]&&fe(s);return{c(){t&&t.c(),e=W()},l(i){t&&t.l(i),e=W()},m(i,a){t&&t.m(i,a),T(i,e,a),r=!0},p(i,[a]){i[2]?t?(t.p(i,a),a&4&&z(t,1)):(t=fe(i),t.c(),z(t,1),t.m(e.parentNode,e)):t&&(he(),C(t,1,1,()=>{t=null}),de())},i(i){r||(z(t),r=!0)},o(i){C(t),r=!1},d(i){t&&t.d(i),i&&m(e)}}}function Ie(s,e,r){let t,i;ae(s,_e,l=>r(4,t=l)),ae(s,ve,l=>r(5,i=l));let a,n,f=!1;async function c(){let g=(await a.firestore()).collection("goals").doc(t.params.id),A=await g.get();A.exists&&(r(0,n=A.data()),r(0,n.id=g.id,n))}let o;function u(l){o=l,r(3,o),r(0,n),r(4,t)}function v(l){n=l,r(0,n)}function I(l){a=l,r(1,a),r(5,i)}return s.$$.update=()=>{s.$$.dirty&32&&(async()=>{i&&(r(1,a=i),await c(),r(2,f=!0))})(),s.$$.dirty&17&&n&&r(3,o=[{url:"/curriculum",value:"Curriculum"},{url:"/leerdoel/"+n.id,value:"Leerdoel: "+n.title},{url:t.path,value:"Geschiedenis"}])},[n,a,f,o,t,i,u,v,I]}class Ne extends re{constructor(e){super();ie(this,e,Ie,je,se,{})}}export{Ne as default};
