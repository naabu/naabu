import{S as K,i as N,s as Y,Y as h,Z as j,j as P,k as T,l as W,m as q,n as H,o as E,f as S,_ as B,u as y,w as Z,x as z,v as L,d as G,K as I,r as A,t as J,g as M,O as D}from"../../../chunks/vendor-05d04a9e.js";import{E as Q}from"../../../chunks/edit-5f611719.js";import{p as R}from"../../../chunks/stores-e07732fe.js";import{f as U}from"../../../chunks/store-fa4e989c.js";import{B as V}from"../../../chunks/breadcrumbPageTitle-29d2ecc5.js";import{G as X}from"../../../chunks/getGoalData-3fdf99e2.js";import"../../../chunks/checkPlayerHasProfile-2454222b.js";import"../../../chunks/form-cce74b52.js";import"../../../chunks/Button-e99ba711.js";/* empty css                                                           */import"../../../chunks/quizzesForm-3f7b1543.js";import"../../../chunks/dialog-24821939.js";import"../../../chunks/helper-a37f5850.js";import"../../../chunks/goal-80d3ba40.js";import"../../../chunks/tabs-01b39912.js";import"../../../chunks/navigation-51f4a605.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/resultFeedback-d6392221.js";import"../../../chunks/helper-d6a45b8d.js";import"../../../chunks/show-2c607e3f.js";function x(o){let n;return{c(){n=J("Loading...")},l(e){n=M(e,"Loading...")},m(e,i){S(e,n,i)},p:D,i:D,o:D,d(e){e&&G(n)}}}function v(o){let n,e,i,r,u,l,p,a,m;function c(t){o[11](t)}let d={title:o[3].title};o[5]!==void 0&&(d.breadcrumbs=o[5]),n=new V({props:d}),h.push(()=>j(n,"breadcrumbs",c));function C(t){o[12](t)}function _(t){o[13](t)}function w(t){o[14](t)}function s(t){o[15](t)}let b={};return o[3]!==void 0&&(b.goal=o[3]),o[4]!==void 0&&(b.previousBattles=o[4]),o[1]!==void 0&&(b.battleCol=o[1]),o[0]!==void 0&&(b.firebase=o[0]),r=new Q({props:b}),h.push(()=>j(r,"goal",C)),h.push(()=>j(r,"previousBattles",_)),h.push(()=>j(r,"battleCol",w)),h.push(()=>j(r,"firebase",s)),{c(){P(n.$$.fragment),i=T(),P(r.$$.fragment)},l(t){q(n.$$.fragment,t),i=H(t),q(r.$$.fragment,t)},m(t,g){E(n,t,g),S(t,i,g),E(r,t,g),m=!0},p(t,g){const f={};g&8&&(f.title=t[3].title),!e&&g&32&&(e=!0,f.breadcrumbs=t[5],B(()=>e=!1)),n.$set(f);const k={};!u&&g&8&&(u=!0,k.goal=t[3],B(()=>u=!1)),!l&&g&16&&(l=!0,k.previousBattles=t[4],B(()=>l=!1)),!p&&g&2&&(p=!0,k.battleCol=t[1],B(()=>p=!1)),!a&&g&1&&(a=!0,k.firebase=t[0],B(()=>a=!1)),r.$set(k)},i(t){m||(z(n.$$.fragment,t),z(r.$$.fragment,t),m=!0)},o(t){y(n.$$.fragment,t),y(r.$$.fragment,t),m=!1},d(t){L(n,t),t&&G(i),L(r,t)}}}function $(o){let n,e,i,r,u,l,p,a;function m(s){o[9](s)}function c(s){o[10](s)}let d={};o[0]!==void 0&&(d.firebase=o[0]),o[3]!==void 0&&(d.goal=o[3]),n=new X({props:d}),h.push(()=>j(n,"firebase",m)),h.push(()=>j(n,"goal",c));const C=[v,x],_=[];function w(s,b){return s[3]&&s[2]?0:1}return u=w(o),l=_[u]=C[u](o),{c(){P(n.$$.fragment),r=T(),l.c(),p=W()},l(s){q(n.$$.fragment,s),r=H(s),l.l(s),p=W()},m(s,b){E(n,s,b),S(s,r,b),_[u].m(s,b),S(s,p,b),a=!0},p(s,[b]){const t={};!e&&b&1&&(e=!0,t.firebase=s[0],B(()=>e=!1)),!i&&b&8&&(i=!0,t.goal=s[3],B(()=>i=!1)),n.$set(t);let g=u;u=w(s),u===g?_[u].p(s,b):(A(),y(_[g],1,1,()=>{_[g]=null}),Z(),l=_[u],l?l.p(s,b):(l=_[u]=C[u](s),l.c()),z(l,1),l.m(p.parentNode,p))},i(s){a||(z(n.$$.fragment,s),z(l),a=!0)},o(s){y(n.$$.fragment,s),y(l),a=!1},d(s){L(n,s),s&&G(r),_[u].d(s),s&&G(p)}}}function ee(o,n,e){let i,r;I(o,R,f=>e(7,i=f)),I(o,U,f=>e(8,r=f));let u,l,p=!1,a,m,c=!1,d;function C(f){u=f,e(0,u),e(8,r)}function _(f){a=f,e(3,a),e(6,c),e(2,p),e(0,u),e(7,i),e(1,l),e(8,r)}function w(f){d=f,e(5,d),e(3,a),e(7,i),e(6,c),e(2,p),e(0,u),e(1,l),e(8,r)}function s(f){a=f,e(3,a),e(6,c),e(2,p),e(0,u),e(7,i),e(1,l),e(8,r)}function b(f){m=f,e(4,m),e(6,c),e(3,a),e(2,p),e(0,u),e(7,i),e(1,l),e(8,r)}function t(f){l=f,e(1,l),e(6,c),e(3,a),e(2,p),e(0,u),e(7,i),e(8,r)}function g(f){u=f,e(0,u),e(8,r)}return o.$$.update=()=>{o.$$.dirty&256&&(async()=>{r&&(e(0,u=r),e(6,c=!0))})(),o.$$.dirty&207&&(async()=>{if(c&&a&&!p){e(2,p=!0);let f=await u.firestore();e(1,l=f.collection("goals/"+i.params.id+"/battles"));const k=await l.get();a.battles||e(3,a.battles=[],a),k.forEach(F=>{let O=F.data();O.name=F.id,e(3,a.battles=[...a.battles,O],a)}),e(4,m=[...a.battles])}})(),o.$$.dirty&136&&a&&e(5,d=[{url:"/curriculum",value:"Curriculum"},{url:"/leerdoel/"+a.id,value:"Leerdoel: "+a.title},{url:i.path,value:"Wijzigen"}])},[u,l,p,a,m,d,c,i,r,C,_,w,s,b,t,g]}class Be extends K{constructor(n){super();N(this,n,ee,$,Y,{})}}export{Be as default};
