import{S as I,i as S,s as U,K as c}from"./vendor-05d04a9e.js";import{s as j,p as w}from"./stores-e07732fe.js";import{f as x}from"./store-fa4e989c.js";import{g as _}from"./helper-d2f31c51.js";function D(o,u,t){let r,l,b;c(o,j,e=>t(6,r=e)),c(o,x,e=>t(7,l=e)),c(o,w,e=>t(8,b=e));let{firebase:d}=u,{module:s}=u,{mounted:a=!1}=u,{moduleId:i=b.params.moduleId}=u,{userModule:m}=u,{loadUserModule:f=!0}=u;async function g(){let M=(await d.firestore()).collection("modules").doc(i),y=await M.get();if(y.exists&&(t(1,s=y.data()),t(1,s.id=M.id,s),s.paths))for(let n=0;n<s.paths.length;n++){let h=s.paths[n];h.points=JSON.parse(h.points)}}return o.$$set=e=>{"firebase"in e&&t(0,d=e.firebase),"module"in e&&t(1,s=e.module),"mounted"in e&&t(2,a=e.mounted),"moduleId"in e&&t(5,i=e.moduleId),"userModule"in e&&t(4,m=e.userModule),"loadUserModule"in e&&t(3,f=e.loadUserModule)},o.$$.update=()=>{o.$$.dirty&128&&(async()=>{l&&(t(0,d=l),await g(),t(2,a=!0))})(),o.$$.dirty&79&&(async()=>{f&&a&&s&&r.player&&r.player.id&&(t(4,m=await _(d,s.id,s,r.player)),t(3,f=!1))})()},[d,s,a,f,m,i,r,l]}class J extends I{constructor(u){super();S(this,u,D,null,U,{firebase:0,module:1,mounted:2,moduleId:5,userModule:4,loadUserModule:3})}}export{J as G};
