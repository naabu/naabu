import{S as D,i as q,s as A,j as E,m as F,o as I,_,x as m,u as h,v as K,l as v,f as N,w as O,d as R,K as S,Y as d,Z as g,r as U}from"../chunks/vendor-05d04a9e.js";import{S as Y}from"../chunks/show-44582c58.js";import{p as Z}from"../chunks/stores-e07732fe.js";import{f as z}from"../chunks/store-fa4e989c.js";import"../chunks/show-2c607e3f.js";import"../chunks/Button-e99ba711.js";/* empty css                                                     */import"../chunks/helper-a37f5850.js";import"../chunks/helper-5c7a4c9b.js";import"../chunks/navigation-51f4a605.js";import"../chunks/singletons-12a22614.js";function B(o){let s,a,e,t,r;function n(i){o[5](i)}function p(i){o[6](i)}function b(i){o[7](i)}let f={};return o[1]!==void 0&&(f.activity=o[1]),o[3]!==void 0&&(f.breadcrumbs=o[3]),o[0]!==void 0&&(f.firebase=o[0]),s=new Y({props:f}),d.push(()=>g(s,"activity",n)),d.push(()=>g(s,"breadcrumbs",p)),d.push(()=>g(s,"firebase",b)),{c(){E(s.$$.fragment)},l(i){F(s.$$.fragment,i)},m(i,u){I(s,i,u),r=!0},p(i,u){const l={};!a&&u&2&&(a=!0,l.activity=i[1],_(()=>a=!1)),!e&&u&8&&(e=!0,l.breadcrumbs=i[3],_(()=>e=!1)),!t&&u&1&&(t=!0,l.firebase=i[0],_(()=>t=!1)),s.$set(l)},i(i){r||(m(s.$$.fragment,i),r=!0)},o(i){h(s.$$.fragment,i),r=!1},d(i){K(s,i)}}}function G(o){let s,a,e=o[2]&&o[1]&&B(o);return{c(){e&&e.c(),s=v()},l(t){e&&e.l(t),s=v()},m(t,r){e&&e.m(t,r),N(t,s,r),a=!0},p(t,[r]){t[2]&&t[1]?e?(e.p(t,r),r&6&&m(e,1)):(e=B(t),e.c(),m(e,1),e.m(s.parentNode,s)):e&&(U(),h(e,1,1,()=>{e=null}),O())},i(t){a||(m(e),a=!0)},o(t){h(e),a=!1},d(t){e&&e.d(t),t&&R(s)}}}function H(o,s,a){let e,t;S(o,Z,c=>a(8,e=c)),S(o,z,c=>a(4,t=c));let r,n,p=!1,b=[{url:"/",value:"Reis"},{url:"/"+e.params.id,value:"Activiteit bekijken"}];async function f(){let c=await r.firestore(),k=c.collection("activities").doc(e.params.id),w=await k.get();if(w.exists&&(a(1,n=w.data()),a(1,n.id=k.id,n),n.goals.length>0)){const C=await c.collection("goals/"+n.goals[0].objectID+"/battles").get();a(1,n.battles=[],n),C.forEach(j=>{let y=j.data();y.name=j.id,a(1,n.battles=[...n.battles,y],n)})}}function i(c){n=c,a(1,n)}function u(c){b=c,a(3,b)}function l(c){r=c,a(0,r),a(4,t)}return o.$$.update=()=>{o.$$.dirty&16&&(async()=>{t&&(a(0,r=t),await f(),a(2,p=!0))})()},[r,n,p,b,t,i,u,l]}class te extends D{constructor(s){super();q(this,s,H,G,A,{})}}export{te as default};
