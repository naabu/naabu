import{S as ie,i as le,s as fe,a3 as ve,Y as z,Z as L,j as Y,k as q,e as h,t as ue,m as G,n as J,c as k,a as w,g as ce,d as m,b as K,o as N,f as B,F as d,G as me,H as ye,_ as Q,x as $,u as T,v as P,J as je,K as pe,A as De,a6 as Me,l as de,w as $e,r as Ee}from"../../../chunks/vendor-05d04a9e.js";import{F as Se}from"../../../chunks/form-8101f5ac.js";import{S as Ie}from"../../../chunks/show-2c607e3f.js";import{R as Ke}from"../../../chunks/resultFeedback-d6392221.js";import{g as Te}from"../../../chunks/helper-69e97bf9.js";import{s as Ve}from"../../../chunks/stores-e07732fe.js";import{B as Fe}from"../../../chunks/Button-e99ba711.js";import{f as Be}from"../../../chunks/store-fa4e989c.js";/* empty css                                */import"../../../chunks/dialog-24821939.js";/* empty css                                                           */const{setTimeout:be}=Me;function Re(a){let n=!1,r=()=>{n=!1},s,t,f,o,u,p,v,i,y,j,_,D,R,C,l,E,S,b,g,U,W,V,F,M,X,x,ee;ve(a[7]);function he(e){a[8](e)}let se={};a[0]!==void 0&&(se.breadcrumbs=a[0]),t=new Ie({props:se}),z.push(()=>L(t,"breadcrumbs",he));function ke(e){a[9](e)}let te={};a[4]!==void 0&&(te.alert=a[4]),u=new Ke({props:te}),z.push(()=>L(u,"alert",ke));function we(e){a[10](e)}let re={};return a[2]!==void 0&&(re.map=a[2]),g=new Se({props:re}),z.push(()=>L(g,"map",we)),M=new Fe({props:{isDisabled:a[3],isSubmit:!0,color:"primary",content:"Kaart aanmaken"}}),{c(){Y(t.$$.fragment),o=q(),Y(u.$$.fragment),v=q(),i=h("div"),y=h("div"),j=h("div"),_=h("div"),D=h("h3"),R=ue("Kaart maken"),C=q(),l=h("p"),E=ue("Maak een nieuwe kaart aan met leerdoelen"),S=q(),b=h("form"),Y(g.$$.fragment),W=q(),V=h("div"),F=h("div"),Y(M.$$.fragment),this.h()},l(e){G(t.$$.fragment,e),o=J(e),G(u.$$.fragment,e),v=J(e),i=k(e,"DIV",{});var c=w(i);y=k(c,"DIV",{class:!0});var A=w(y);j=k(A,"DIV",{class:!0});var O=w(j);_=k(O,"DIV",{});var I=w(_);D=k(I,"H3",{class:!0});var H=w(D);R=ce(H,"Kaart maken"),H.forEach(m),C=J(I),l=k(I,"P",{class:!0});var ae=w(l);E=ce(ae,"Maak een nieuwe kaart aan met leerdoelen"),ae.forEach(m),I.forEach(m),O.forEach(m),A.forEach(m),c.forEach(m),S=J(e),b=k(e,"FORM",{class:!0});var Z=w(b);G(g.$$.fragment,Z),W=J(Z),V=k(Z,"DIV",{class:!0});var ne=w(V);F=k(ne,"DIV",{class:!0});var oe=w(F);G(M.$$.fragment,oe),oe.forEach(m),ne.forEach(m),Z.forEach(m),this.h()},h(){K(D,"class","text-lg leading-6 font-medium text-gray-900"),K(l,"class","mt-1 max-w-2xl text-sm text-gray-500"),K(j,"class","flex-1 min-w-0"),K(y,"class","mt-2 md:flex md:items-center md:justify-between"),K(F,"class","flex justify-end"),K(V,"class","pt-5"),K(b,"class","space-y-8 divide-y divide-gray-200")},m(e,c){N(t,e,c),B(e,o,c),N(u,e,c),B(e,v,c),B(e,i,c),d(i,y),d(y,j),d(j,_),d(_,D),d(D,R),d(_,C),d(_,l),d(l,E),B(e,S,c),B(e,b,c),N(g,b,null),d(b,W),d(b,V),d(V,F),N(M,F,null),X=!0,x||(ee=[me(window,"scroll",()=>{n=!0,clearTimeout(s),s=be(r,100),a[7]()}),me(b,"submit",ye(a[5]))],x=!0)},p(e,[c]){c&2&&!n&&(n=!0,clearTimeout(s),scrollTo(window.pageXOffset,e[1]),s=be(r,100));const A={};!f&&c&1&&(f=!0,A.breadcrumbs=e[0],Q(()=>f=!1)),t.$set(A);const O={};!p&&c&16&&(p=!0,O.alert=e[4],Q(()=>p=!1)),u.$set(O);const I={};!U&&c&4&&(U=!0,I.map=e[2],Q(()=>U=!1)),g.$set(I);const H={};c&8&&(H.isDisabled=e[3]),M.$set(H)},i(e){X||($(t.$$.fragment,e),$(u.$$.fragment,e),$(g.$$.fragment,e),$(M.$$.fragment,e),X=!0)},o(e){T(t.$$.fragment,e),T(u.$$.fragment,e),T(g.$$.fragment,e),T(M.$$.fragment,e),X=!1},d(e){P(t,e),e&&m(o),P(u,e),e&&m(v),e&&m(i),e&&m(S),e&&m(b),P(g),P(M),x=!1,je(ee)}}}function _e(){return{success:!1,successMessage:"",error:!1,errorCode:"",errorMessage:""}}function Ce(a,n,r){let s;pe(a,Ve,l=>r(12,s=l));let{firebase:t}=n,f=[{url:"/beheer",value:"Beheer"},{url:"/beheer/kaart",value:"Kaarten"},{url:"/beheer/kaarten/maken",value:"Kaarten maken"}],o,u,p={title:"",image:"https://firebasestorage.googleapis.com/v0/b/expwis.appspot.com/o/map1.png?alt=media&token=12e1ee07-a782-40c1-addc-e2179fc89d95",locations:[],paths:[]},v=!1,i=_e();De(async()=>{u=await t.firestore()});async function y(){let l=Te(p);l.authorId=s.user.uid,r(4,i=_e());try{let S=await u.collection("maps").add(l);r(4,i.success=!0,i),r(4,i.successTitle="Kaart gemaakt",i),r(4,i.successMessage="id: "+S.id,i),r(2,p.id=S.id,p),updateActivities(t,p)}catch(E){r(4,i.error=!0,i),r(4,i.errorCode=E.code,i),r(4,i.errorMessage=E.message,i)}r(1,o=0)}async function j(){r(3,v=!0),await y(),setTimeout(()=>{r(3,v=!1)},5e3)}function _(){r(1,o=window.pageYOffset)}function D(l){f=l,r(0,f)}function R(l){i=l,r(4,i)}function C(l){p=l,r(2,p)}return a.$$set=l=>{"firebase"in l&&r(6,t=l.firebase)},[f,o,p,v,i,j,t,_,D,R,C]}class Ae extends ie{constructor(n){super();le(this,n,Ce,Re,fe,{firebase:6})}}function ge(a){let n,r,s;function t(o){a[2](o)}let f={};return a[0]!==void 0&&(f.firebase=a[0]),n=new Ae({props:f}),z.push(()=>L(n,"firebase",t)),{c(){Y(n.$$.fragment)},l(o){G(n.$$.fragment,o)},m(o,u){N(n,o,u),s=!0},p(o,u){const p={};!r&&u&1&&(r=!0,p.firebase=o[0],Q(()=>r=!1)),n.$set(p)},i(o){s||($(n.$$.fragment,o),s=!0)},o(o){T(n.$$.fragment,o),s=!1},d(o){P(n,o)}}}function Oe(a){let n,r,s=a[0]&&ge(a);return{c(){s&&s.c(),n=de()},l(t){s&&s.l(t),n=de()},m(t,f){s&&s.m(t,f),B(t,n,f),r=!0},p(t,[f]){t[0]?s?(s.p(t,f),f&1&&$(s,1)):(s=ge(t),s.c(),$(s,1),s.m(n.parentNode,n)):s&&(Ee(),T(s,1,1,()=>{s=null}),$e())},i(t){r||($(s),r=!0)},o(t){T(s),r=!1},d(t){s&&s.d(t),t&&m(n)}}}function He(a,n,r){let s;pe(a,Be,o=>r(1,s=o));let t;function f(o){t=o,r(0,t),r(1,s)}return a.$$.update=()=>{a.$$.dirty&2&&(async()=>{s&&r(0,t=s)})()},[t,s,f]}class Ue extends ie{constructor(n){super();le(this,n,He,Oe,fe,{})}}export{Ue as default};
