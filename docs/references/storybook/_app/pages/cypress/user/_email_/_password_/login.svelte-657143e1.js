import{S as b,i as k,s as w,t as u,l as m,g as d,f,e as A,c as g,a as N,d as a,b as S,F as j,O as _,K as c}from"../../../../../chunks/vendor-05d04a9e.js";import{p as E,s as L}from"../../../../../chunks/stores-e07732fe.js";import{f as G}from"../../../../../chunks/store-fa4e989c.js";function h(i){let n,s,e=i[0].user&&!i[0].user.isAnonymous&&v();return{c(){n=u(`Great success! Now login!
  `),e&&e.c(),s=m()},l(t){n=d(t,`Great success! Now login!
  `),e&&e.l(t),s=m()},m(t,r){f(t,n,r),e&&e.m(t,r),f(t,s,r)},p(t,r){t[0].user&&!t[0].user.isAnonymous?e||(e=v(),e.c(),e.m(s.parentNode,s)):e&&(e.d(1),e=null)},d(t){t&&a(n),e&&e.d(t),t&&a(s)}}}function v(i){let n,s;return{c(){n=A("div"),s=u("Login complete"),this.h()},l(e){n=g(e,"DIV",{"data-test":!0});var t=N(n);s=d(t,"Login complete"),t.forEach(a),this.h()},h(){S(n,"data-test","complete")},m(e,t){f(e,n,t),j(n,s)},d(e){e&&a(n)}}}function I(i){let n,s=(i[0].environment==="cypress"||i[0].environment==="development"||i[0].environment==="test")&&h(i);return{c(){s&&s.c(),n=m()},l(e){s&&s.l(e),n=m()},m(e,t){s&&s.m(e,t),f(e,n,t)},p(e,[t]){e[0].environment==="cypress"||e[0].environment==="development"||e[0].environment==="test"?s?s.p(e,t):(s=h(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:_,o:_,d(e){s&&s.d(e),e&&a(n)}}}function P(i,n,s){let e,t,r;c(i,E,o=>s(2,e=o)),c(i,L,o=>s(0,t=o)),c(i,G,o=>s(3,r=o));let l;return i.$$.update=()=>{i.$$.dirty&15&&(async()=>{if(r&&(s(1,l=r),(t.environment==="cypress"||t.environment==="development"||t.environment==="test")&&t.user&&t.user.isAnonymous)){let o=e.params.email,p=e.params.password;try{let y=await l.auth().createUserWithEmailAndPassword(o,p)}catch{l.auth().signInWithEmailAndPassword(o,p)}}})()},[t,l,e,r]}class D extends b{constructor(n){super();k(this,n,P,I,w,{})}}export{D as default};
