import{S as y,i as b,s as h,t as u,l as a,g as p,f,e as k,c as g,a as w,d as l,b as N,F as S,O as d,K as c}from"../../../../chunks/vendor-05d04a9e.js";import{s as j,p as A}from"../../../../chunks/stores-e07732fe.js";import{f as D}from"../../../../chunks/store-fa4e989c.js";function _(r){let n,s,e=r[0].user&&r[0].user.isAnonymous&&v();return{c(){n=u(`Great success! Now logout!
  `),e&&e.c(),s=a()},l(t){n=p(t,`Great success! Now logout!
  `),e&&e.l(t),s=a()},m(t,o){f(t,n,o),e&&e.m(t,o),f(t,s,o)},p(t,o){t[0].user&&t[0].user.isAnonymous?e||(e=v(),e.c(),e.m(s.parentNode,s)):e&&(e.d(1),e=null)},d(t){t&&l(n),e&&e.d(t),t&&l(s)}}}function v(r){let n,s;return{c(){n=k("div"),s=u("Deleting user complete"),this.h()},l(e){n=g(e,"DIV",{"data-test":!0});var t=w(n);s=p(t,"Deleting user complete"),t.forEach(l),this.h()},h(){N(n,"data-test","complete")},m(e,t){f(e,n,t),S(n,s)},d(e){e&&l(n)}}}function C(r){let n,s=(r[0].environment==="cypress"||r[0].environment==="test"||r[0].environment==="development")&&_(r);return{c(){s&&s.c(),n=a()},l(e){s&&s.l(e),n=a()},m(e,t){s&&s.m(e,t),f(e,n,t)},p(e,[t]){e[0].environment==="cypress"||e[0].environment==="test"||e[0].environment==="development"?s?s.p(e,t):(s=_(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:d,o:d,d(e){s&&s.d(e),e&&l(n)}}}function G(r,n,s){let e,t,o;c(r,j,i=>s(0,e=i)),c(r,A,i=>s(2,t=i)),c(r,D,i=>s(3,o=i));let m;return r.$$.update=()=>{r.$$.dirty&15&&(async()=>{if(o&&(s(1,m=o),(e.environment==="cypress"||e.environment==="test"||e.environment==="development")&&e.user&&!e.user.isAnonymous)){let i=t.params.email;e.user.email===i?await m.auth().currentUser.delete():(console.error("trying to delete a wrong user"),console.error("to fix: log in as the correct user"))}})()},[e,m,t,o]}class I extends y{constructor(n){super();b(this,n,G,C,h,{})}}export{I as default};
