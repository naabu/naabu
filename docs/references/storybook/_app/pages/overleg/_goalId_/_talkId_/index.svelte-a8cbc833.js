import{S as Te,i as Be,s as Ce,k as F,j as ae,e as j,t as Z,n as U,m as se,c as w,a as I,g as J,d as m,b,f as O,o as re,F as g,x as V,_ as q,u as z,v as ie,r as ce,w as de,L as He,M as Le,h as le,I as Qe,l as pe,Y as G,Z as M,O as We,K as Oe}from"../../../../chunks/vendor-05d04a9e.js";import{g as qe}from"../../../../chunks/helper-a37f5850.js";import{d as Xe}from"../../../../chunks/helper-249596aa.js";import{C as $e}from"../../../../chunks/createPost-3beca549.js";import{T as xe}from"../../../../chunks/talk-abe3aff8.js";import{p as he}from"../../../../chunks/stores-e07732fe.js";import{f as et}from"../../../../chunks/store-fa4e989c.js";import{B as tt}from"../../../../chunks/breadcrumbPageTitle-29d2ecc5.js";import{G as lt}from"../../../../chunks/getGoalData-3fdf99e2.js";import"../../../../chunks/helper-cf411eac.js";import"../../../../chunks/checkPlayerHasProfile-2454222b.js";import"../../../../chunks/resultFeedback-d6392221.js";import"../../../../chunks/Button-e99ba711.js";/* empty css                                                              */import"../../../../chunks/navigation-51f4a605.js";import"../../../../chunks/singletons-12a22614.js";import"../../../../chunks/tabs-01b39912.js";import"../../../../chunks/show-2c607e3f.js";function ze(a,t,e){const l=a.slice();return l[8]=t[e],l}function Ge(a){let t,e,l,s,c,r,d,o,P,y,_,R,p=a[1].type==="goal"&&Me(a);function i(f){a[5](f)}function n(f){a[6](f)}function v(f){a[7](f)}let A={};a[0]!==void 0&&(A.firebase=a[0]),a[2]!==void 0&&(A.goalId=a[2]),a[1]!==void 0&&(A.talk=a[1]),e=new $e({props:A}),G.push(()=>M(e,"firebase",i)),G.push(()=>M(e,"goalId",n)),G.push(()=>M(e,"talk",v));let S=a[3],h=[];for(let f=0;f<S.length;f+=1)h[f]=Ye(ze(a,S,f));return{c(){p&&p.c(),t=F(),ae(e.$$.fragment),r=F(),d=j("div"),o=j("h1"),P=Z("Recent posts"),y=F(),_=j("ul");for(let f=0;f<h.length;f+=1)h[f].c();this.h()},l(f){p&&p.l(f),t=U(f),se(e.$$.fragment,f),r=U(f),d=w(f,"DIV",{class:!0});var u=I(d);o=w(u,"H1",{class:!0});var D=I(o);P=J(D,"Recent posts"),D.forEach(m),y=U(u),_=w(u,"UL",{role:!0,class:!0});var E=I(_);for(let H=0;H<h.length;H+=1)h[H].l(E);E.forEach(m),u.forEach(m),this.h()},h(){b(o,"class","sr-only"),b(_,"role","list"),b(_,"class","space-y-4"),b(d,"class","mt-4 ml-auto mr-auto max-w-xl")},m(f,u){p&&p.m(f,u),O(f,t,u),re(e,f,u),O(f,r,u),O(f,d,u),g(d,o),g(o,P),g(d,y),g(d,_);for(let D=0;D<h.length;D+=1)h[D].m(_,null);R=!0},p(f,u){f[1].type==="goal"?p?(p.p(f,u),u&2&&V(p,1)):(p=Me(f),p.c(),V(p,1),p.m(t.parentNode,t)):p&&(ce(),z(p,1,1,()=>{p=null}),de());const D={};if(!l&&u&1&&(l=!0,D.firebase=f[0],q(()=>l=!1)),!s&&u&4&&(s=!0,D.goalId=f[2],q(()=>s=!1)),!c&&u&2&&(c=!0,D.talk=f[1],q(()=>c=!1)),e.$set(D),u&14){S=f[3];let E;for(E=0;E<S.length;E+=1){const H=ze(f,S,E);h[E]?h[E].p(H,u):(h[E]=Ye(H),h[E].c(),h[E].m(_,null))}for(;E<h.length;E+=1)h[E].d(1);h.length=S.length}},i(f){R||(V(p),V(e.$$.fragment,f),R=!0)},o(f){z(p),z(e.$$.fragment,f),R=!1},d(f){p&&p.d(f),f&&m(t),ie(e,f),f&&m(r),f&&m(d),Qe(h,f)}}}function Me(a){let t,e,l;function s(r){a[4](r)}let c={talkType:a[1].type,talkId:a[1].id};return a[2]!==void 0&&(c.objectId=a[2]),t=new xe({props:c}),G.push(()=>M(t,"objectId",s)),{c(){ae(t.$$.fragment)},l(r){se(t.$$.fragment,r)},m(r,d){re(t,r,d),l=!0},p(r,d){const o={};d&2&&(o.talkType=r[1].type),d&2&&(o.talkId=r[1].id),!e&&d&4&&(e=!0,o.objectId=r[2],q(()=>e=!1)),t.$set(o)},i(r){l||(V(t.$$.fragment,r),l=!0)},o(r){z(t.$$.fragment,r),l=!1},d(r){ie(t,r)}}}function Fe(a){let t,e=qe(a[8].createdAt)+"",l;return{c(){t=j("time"),l=Z(e)},l(s){t=w(s,"TIME",{});var c=I(t);l=J(c,e),c.forEach(m)},m(s,c){O(s,t,c),g(t,l)},p(s,c){c&8&&e!==(e=qe(s[8].createdAt)+"")&&le(l,e)},d(s){s&&m(t)}}}function Ue(a){let t=a[8].title+"",e;return{c(){e=Z(t)},l(l){e=J(l,t)},m(l,s){O(l,e,s)},p(l,s){s&8&&t!==(t=l[8].title+"")&&le(e,t)},d(l){l&&m(e)}}}function Ke(a){let t=a[8].text+"",e;return{c(){e=Z(t)},l(l){e=J(l,t)},m(l,s){O(l,e,s)},p(l,s){s&8&&t!==(t=l[8].text+"")&&le(e,t)},d(l){l&&m(e)}}}function at(a){let t;return{c(){t=Z("0")},l(e){t=J(e,"0")},m(e,l){O(e,t,l)},p:We,d(e){e&&m(t)}}}function st(a){let t=a[8].numberOfReplies+"",e;return{c(){e=Z(t)},l(l){e=J(l,t)},m(l,s){O(l,e,s)},p(l,s){s&8&&t!==(t=l[8].numberOfReplies+"")&&le(e,t)},d(l){l&&m(e)}}}function Ye(a){let t,e,l,s,c,r,d,o=a[8].curriculumProfile.fullname+"",P,y,_,R=a[8].curriculumProfile.institution+"",p,i,n,v,A,S,h,f,u,D,E,H,W,Q,L,Y,X,_e,$,me,x,ge,be,N=a[8].createdAt&&Fe(a),T=a[8].title&&Ue(a),B=a[8].text&&Ke(a);function ke(k,C){return k[8].numberOfReplies?st:at}let ne=ke(a),K=ne(a);return{c(){t=j("li"),e=j("article"),l=j("div"),s=j("div"),c=j("div"),r=j("p"),d=j("a"),P=Z(o),_=Z(`
                    - `),p=Z(R),i=F(),n=j("p"),N&&N.c(),v=F(),A=j("div"),S=j("a"),h=j("h2"),T&&T.c(),f=F(),u=j("p"),B&&B.c(),E=F(),H=j("div"),W=j("div"),Q=j("span"),L=j("span"),Y=He("svg"),X=He("path"),_e=F(),$=j("span"),K.c(),me=F(),x=j("span"),ge=Z("replies"),be=F(),this.h()},l(k){t=w(k,"LI",{class:!0});var C=I(t);e=w(C,"ARTICLE",{"aria-labelledby":!0});var ee=I(e);l=w(ee,"DIV",{});var ve=I(l);s=w(ve,"DIV",{class:!0});var Ie=I(s);c=w(Ie,"DIV",{class:!0});var oe=I(c);r=w(oe,"P",{class:!0});var fe=I(r);d=w(fe,"A",{class:!0,href:!0});var Ee=I(d);P=J(Ee,o),Ee.forEach(m),_=J(fe,`
                    - `),p=J(fe,R),fe.forEach(m),i=U(oe),n=w(oe,"P",{class:!0});var je=I(n);N&&N.l(je),je.forEach(m),oe.forEach(m),Ie.forEach(m),ve.forEach(m),v=U(ee),A=w(ee,"DIV",{class:!0});var we=I(A);S=w(we,"A",{class:!0,href:!0});var ue=I(S);h=w(ue,"H2",{id:!0,class:!0});var Pe=I(h);T&&T.l(Pe),Pe.forEach(m),f=U(ue),u=w(ue,"P",{});var Ae=I(u);B&&B.l(Ae),Ae.forEach(m),ue.forEach(m),we.forEach(m),E=U(ee),H=w(ee,"DIV",{class:!0});var Se=I(H);W=w(Se,"DIV",{class:!0});var De=I(W);Q=w(De,"SPAN",{class:!0});var Ve=I(Q);L=w(Ve,"SPAN",{class:!0});var te=I(L);Y=Le(te,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var ye=I(Y);X=Le(ye,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),I(X).forEach(m),ye.forEach(m),_e=U(te),$=w(te,"SPAN",{class:!0});var Re=I($);K.l(Re),Re.forEach(m),me=U(te),x=w(te,"SPAN",{class:!0});var Ne=I(x);ge=J(Ne,"replies"),Ne.forEach(m),te.forEach(m),Ve.forEach(m),De.forEach(m),Se.forEach(m),ee.forEach(m),be=U(C),C.forEach(m),this.h()},h(){b(d,"class","hover:underline"),b(d,"href",y="/curriculum-profiel/"+a[8].authorId),b(r,"class","text-sm font-medium text-gray-900"),b(n,"class","text-sm text-gray-500"),b(c,"class","min-w-0 flex-1"),b(s,"class","flex space-x-3"),b(h,"id","question-title-81614"),b(h,"class","mt-4 mb-2 text-base font-medium text-gray-900"),b(S,"class","cursor-pointer"),b(S,"href",D="/overleg/"+a[2]+"/"+a[1].id+"/"+a[8].id),b(A,"class","text-sm text-gray-700 space-y-4"),b(X,"fill-rule","evenodd"),b(X,"d","M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"),b(X,"clip-rule","evenodd"),b(Y,"class","h-5 w-5"),b(Y,"xmlns","http://www.w3.org/2000/svg"),b(Y,"viewBox","0 0 20 20"),b(Y,"fill","currentColor"),b(Y,"aria-hidden","true"),b($,"class","font-medium text-gray-900"),b(x,"class","sr-only"),b(L,"class","inline-flex space-x-2 text-gray-400 hover:text-gray-500"),b(Q,"class","inline-flex items-center text-sm"),b(W,"class","flex space-x-6"),b(H,"class","mt-6 flex justify-between space-x-8"),b(e,"aria-labelledby","question-title-81614"),b(t,"class","bg-white px-4 py-6 shadow sm:p-6 sm:rounded-lg")},m(k,C){O(k,t,C),g(t,e),g(e,l),g(l,s),g(s,c),g(c,r),g(r,d),g(d,P),g(r,_),g(r,p),g(c,i),g(c,n),N&&N.m(n,null),g(e,v),g(e,A),g(A,S),g(S,h),T&&T.m(h,null),g(S,f),g(S,u),B&&B.m(u,null),g(e,E),g(e,H),g(H,W),g(W,Q),g(Q,L),g(L,Y),g(Y,X),g(L,_e),g(L,$),K.m($,null),g(L,me),g(L,x),g(x,ge),g(t,be)},p(k,C){C&8&&o!==(o=k[8].curriculumProfile.fullname+"")&&le(P,o),C&8&&y!==(y="/curriculum-profiel/"+k[8].authorId)&&b(d,"href",y),C&8&&R!==(R=k[8].curriculumProfile.institution+"")&&le(p,R),k[8].createdAt?N?N.p(k,C):(N=Fe(k),N.c(),N.m(n,null)):N&&(N.d(1),N=null),k[8].title?T?T.p(k,C):(T=Ue(k),T.c(),T.m(h,null)):T&&(T.d(1),T=null),k[8].text?B?B.p(k,C):(B=Ke(k),B.c(),B.m(u,null)):B&&(B.d(1),B=null),C&14&&D!==(D="/overleg/"+k[2]+"/"+k[1].id+"/"+k[8].id)&&b(S,"href",D),ne===(ne=ke(k))&&K?K.p(k,C):(K.d(1),K=ne(k),K&&(K.c(),K.m($,null)))},d(k){k&&m(t),N&&N.d(),T&&T.d(),B&&B.d(),K.d()}}}function rt(a){let t,e,l=a[1]&&Ge(a);return{c(){l&&l.c(),t=pe()},l(s){l&&l.l(s),t=pe()},m(s,c){l&&l.m(s,c),O(s,t,c),e=!0},p(s,[c]){s[1]?l?(l.p(s,c),c&2&&V(l,1)):(l=Ge(s),l.c(),V(l,1),l.m(t.parentNode,t)):l&&(ce(),z(l,1,1,()=>{l=null}),de())},i(s){e||(V(l),e=!0)},o(s){z(l),e=!1},d(s){l&&l.d(s),s&&m(t)}}}function it(a,t,e){let{firebase:l}=t,{talk:s}=t,{posts:c}=t,{goalId:r}=t;Xe(c);function d(_){r=_,e(2,r)}function o(_){l=_,e(0,l)}function P(_){r=_,e(2,r)}function y(_){s=_,e(1,s)}return a.$$set=_=>{"firebase"in _&&e(0,l=_.firebase),"talk"in _&&e(1,s=_.talk),"posts"in _&&e(3,c=_.posts),"goalId"in _&&e(2,r=_.goalId)},[l,s,r,c,d,o,P,y]}class nt extends Te{constructor(t){super();Be(this,t,it,rt,Ce,{firebase:0,talk:1,posts:3,goalId:2})}}function Ze(a){let t,e,l,s,c,r,d,o=a[0]&&Je(a);function P(i){a[13](i)}function y(i){a[14](i)}function _(i){a[15](i)}function R(i){a[16](i)}let p={};return a[3]!==void 0&&(p.talk=a[3]),a[5]!==void 0&&(p.posts=a[5]),a[2]!==void 0&&(p.firebase=a[2]),a[1].params.goalId!==void 0&&(p.goalId=a[1].params.goalId),e=new nt({props:p}),G.push(()=>M(e,"talk",P)),G.push(()=>M(e,"posts",y)),G.push(()=>M(e,"firebase",_)),G.push(()=>M(e,"goalId",R)),{c(){o&&o.c(),t=F(),ae(e.$$.fragment)},l(i){o&&o.l(i),t=U(i),se(e.$$.fragment,i)},m(i,n){o&&o.m(i,n),O(i,t,n),re(e,i,n),d=!0},p(i,n){i[0]?o?(o.p(i,n),n&1&&V(o,1)):(o=Je(i),o.c(),V(o,1),o.m(t.parentNode,t)):o&&(ce(),z(o,1,1,()=>{o=null}),de());const v={};!l&&n&8&&(l=!0,v.talk=i[3],q(()=>l=!1)),!s&&n&32&&(s=!0,v.posts=i[5],q(()=>s=!1)),!c&&n&4&&(c=!0,v.firebase=i[2],q(()=>c=!1)),!r&&n&2&&(r=!0,v.goalId=i[1].params.goalId,q(()=>r=!1)),e.$set(v)},i(i){d||(V(o),V(e.$$.fragment,i),d=!0)},o(i){z(o),z(e.$$.fragment,i),d=!1},d(i){o&&o.d(i),i&&m(t),ie(e,i)}}}function Je(a){let t,e,l;function s(r){a[12](r)}let c={title:a[0].title};return a[6]!==void 0&&(c.breadcrumbs=a[6]),t=new tt({props:c}),G.push(()=>M(t,"breadcrumbs",s)),{c(){ae(t.$$.fragment)},l(r){se(t.$$.fragment,r)},m(r,d){re(t,r,d),l=!0},p(r,d){const o={};d&1&&(o.title=r[0].title),!e&&d&64&&(e=!0,o.breadcrumbs=r[6],q(()=>e=!1)),t.$set(o)},i(r){l||(V(t.$$.fragment,r),l=!0)},o(r){z(t.$$.fragment,r),l=!1},d(r){ie(t,r)}}}function ot(a){let t,e,l,s,c,r,d,o;function P(n){a[8](n)}function y(n){a[9](n)}function _(n){a[10](n)}function R(n){a[11](n)}let p={};a[0]!==void 0&&(p.goal=a[0]),a[1].params.goalId!==void 0&&(p.goalId=a[1].params.goalId),a[2]!==void 0&&(p.firebase=a[2]),a[4]!==void 0&&(p.mounted=a[4]),t=new lt({props:p}),G.push(()=>M(t,"goal",P)),G.push(()=>M(t,"goalId",y)),G.push(()=>M(t,"firebase",_)),G.push(()=>M(t,"mounted",R));let i=a[4]&&Ze(a);return{c(){ae(t.$$.fragment),r=F(),i&&i.c(),d=pe()},l(n){se(t.$$.fragment,n),r=U(n),i&&i.l(n),d=pe()},m(n,v){re(t,n,v),O(n,r,v),i&&i.m(n,v),O(n,d,v),o=!0},p(n,[v]){const A={};!e&&v&1&&(e=!0,A.goal=n[0],q(()=>e=!1)),!l&&v&2&&(l=!0,A.goalId=n[1].params.goalId,q(()=>l=!1)),!s&&v&4&&(s=!0,A.firebase=n[2],q(()=>s=!1)),!c&&v&16&&(c=!0,A.mounted=n[4],q(()=>c=!1)),t.$set(A),n[4]?i?(i.p(n,v),v&16&&V(i,1)):(i=Ze(n),i.c(),V(i,1),i.m(d.parentNode,d)):i&&(ce(),z(i,1,1,()=>{i=null}),de())},i(n){o||(V(t.$$.fragment,n),V(i),o=!0)},o(n){z(t.$$.fragment,n),z(i),o=!1},d(n){ie(t,n),n&&m(r),i&&i.d(n),n&&m(d)}}}function ft(a,t,e){let l,s;Oe(a,he,u=>e(1,l=u)),Oe(a,et,u=>e(7,s=u));let c,r,d,o=!1,P=[];async function y(){let u=await c.firestore(),D=u.collection("talk").doc(l.params.talkId),E=await D.get();E.exists&&(e(3,d=E.data()),e(3,d.id=D.id,d),(await u.collection("talk").doc(d.id).collection("posts").get()).forEach(Q=>{let L=Q.data();L.id=Q.id,e(5,P=[...P,L])}))}let _;function R(u){r=u,e(0,r)}function p(u){a.$$.not_equal(l.params.goalId,u)&&(l.params.goalId=u,he.set(l))}function i(u){c=u,e(2,c),e(7,s)}function n(u){o=u,e(4,o),e(7,s)}function v(u){_=u,e(6,_),e(0,r),e(1,l)}function A(u){d=u,e(3,d)}function S(u){P=u,e(5,P)}function h(u){c=u,e(2,c),e(7,s)}function f(u){a.$$.not_equal(l.params.goalId,u)&&(l.params.goalId=u,he.set(l))}return a.$$.update=()=>{a.$$.dirty&128&&(async()=>{s&&(e(2,c=s),await y(),e(4,o=!0))})(),a.$$.dirty&3&&r&&e(6,_=[{url:"/curriculum",value:"Curriculum"},{url:"/leerdoel/"+r.id,value:"Leerdoel: "+r.title},{url:l.path,value:"Overleg"}])},[r,l,c,d,o,P,_,s,R,p,i,n,v,A,S,h,f]}class Dt extends Te{constructor(t){super();Be(this,t,ft,ot,Ce,{})}}export{Dt as default};
