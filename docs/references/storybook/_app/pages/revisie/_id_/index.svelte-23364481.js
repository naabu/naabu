import{S as be,i as ge,s as we,Y as J,Z as W,j as ue,k as L,l as ne,m as fe,n as T,o as ve,f as B,_ as q,x as Y,u as Q,v as de,d as f,t as z,g as A,O as Be,e as E,c as P,a as R,b as c,F as p,L as ke,M as Re,h as Ie,w as Se,K as je,r as Ve}from"../../../chunks/vendor-05d04a9e.js";import{R as Ne}from"../../../chunks/revision-7e827e10.js";import{p as Oe}from"../../../chunks/stores-e07732fe.js";import{f as He}from"../../../chunks/store-fa4e989c.js";import{e as Le}from"../../../chunks/helper-249596aa.js";import{B as Te}from"../../../chunks/breadcrumbPageTitle-29d2ecc5.js";import{a as ye}from"../../../chunks/helper-d6a45b8d.js";import"../../../chunks/tabs-01b39912.js";import"../../../chunks/navigation-51f4a605.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/helper-cf411eac.js";import"../../../chunks/helper-a37f5850.js";import"../../../chunks/show-2c607e3f.js";import"../../../chunks/Button-e99ba711.js";/* empty css                                                           */function Me(r){let i;return{c(){i=z("Loading...")},l(e){i=A(e,"Loading...")},m(e,n){B(e,i,n)},p:Be,d(e){e&&f(i)}}}function Ce(r){let i,e,n,s,v,a,o,h,d,u,l,_,w,S,y,g,b,k,t,I,D,V,j,M,G,C=r[0].title+"",X,x,F,le,Z=r[0].description+"",$,ee,K,N=r[2]!==null&&Ee(r),O=r[3]!==null&&ze(r);return{c(){i=E("div"),e=E("div"),n=E("div"),s=ke("svg"),v=ke("path"),a=L(),o=E("div"),h=E("h3"),d=z("Je bekijkt een revisie"),u=E("br"),l=L(),_=E("div"),w=E("p"),S=z("Wil je de laatste versie van het leerdoel zien ga terug naar de"),y=L(),g=E("p"),b=E("a"),k=z("hoofdpagina"),I=L(),D=E("p"),N&&N.c(),V=L(),O&&O.c(),j=L(),M=E("div"),G=z("Titel: "),X=z(C),x=L(),F=E("div"),le=z("Omschrijving: "),$=z(Z),ee=L(),K=E("div"),this.h()},l(m){i=P(m,"DIV",{class:!0});var H=R(i);e=P(H,"DIV",{class:!0});var ie=R(e);n=P(ie,"DIV",{class:!0});var _e=R(n);s=Re(_e,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var ce=R(s);v=Re(ce,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),R(v).forEach(f),ce.forEach(f),_e.forEach(f),a=T(ie),o=P(ie,"DIV",{class:!0});var se=R(o);h=P(se,"H3",{class:!0});var oe=R(h);d=A(oe,"Je bekijkt een revisie"),u=P(oe,"BR",{}),oe.forEach(f),l=T(se),_=P(se,"DIV",{class:!0});var U=R(_);w=P(U,"P",{});var pe=R(w);S=A(pe,"Wil je de laatste versie van het leerdoel zien ga terug naar de"),pe.forEach(f),y=T(U),g=P(U,"P",{});var he=R(g);b=P(he,"A",{class:!0,href:!0});var me=R(b);k=A(me,"hoofdpagina"),me.forEach(f),he.forEach(f),I=T(U),D=P(U,"P",{class:!0});var re=R(D);N&&N.l(re),V=T(re),O&&O.l(re),re.forEach(f),U.forEach(f),se.forEach(f),ie.forEach(f),H.forEach(f),j=T(m),M=P(m,"DIV",{class:!0});var te=R(M);G=A(te,"Titel: "),X=A(te,C),te.forEach(f),x=T(m),F=P(m,"DIV",{class:!0});var ae=R(F);le=A(ae,"Omschrijving: "),$=A(ae,Z),ae.forEach(f),ee=T(m),K=P(m,"DIV",{class:!0});var De=R(K);De.forEach(f),this.h()},h(){c(v,"fill-rule","evenodd"),c(v,"d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"),c(v,"clip-rule","evenodd"),c(s,"class","h-5 w-5 text-yellow-400"),c(s,"xmlns","http://www.w3.org/2000/svg"),c(s,"viewBox","0 0 20 20"),c(s,"fill","currentColor"),c(s,"aria-hidden","true"),c(n,"class","flex-shrink-0"),c(h,"class","text-sm font-medium text-yellow-800"),c(b,"class","underline"),c(b,"href",t="/leerdoel/"+r[0].goalId),c(D,"class","space-x-4 mt-4"),c(_,"class","mt-2 text-sm text-yellow-700"),c(o,"class","ml-3"),c(e,"class","flex"),c(i,"class","mt-3 rounded-md bg-yellow-50 p-4"),c(M,"class","mt-8"),c(F,"class","mt-8"),c(K,"class","mt-16")},m(m,H){B(m,i,H),p(i,e),p(e,n),p(n,s),p(s,v),p(e,a),p(e,o),p(o,h),p(h,d),p(h,u),p(o,l),p(o,_),p(_,w),p(w,S),p(_,y),p(_,g),p(g,b),p(b,k),p(_,I),p(_,D),N&&N.m(D,null),p(D,V),O&&O.m(D,null),B(m,j,H),B(m,M,H),p(M,G),p(M,X),B(m,x,H),B(m,F,H),p(F,le),p(F,$),B(m,ee,H),B(m,K,H)},p(m,H){H&1&&t!==(t="/leerdoel/"+m[0].goalId)&&c(b,"href",t),m[2]!==null?N?N.p(m,H):(N=Ee(m),N.c(),N.m(D,V)):N&&(N.d(1),N=null),m[3]!==null?O?O.p(m,H):(O=ze(m),O.c(),O.m(D,null)):O&&(O.d(1),O=null),H&1&&C!==(C=m[0].title+"")&&Ie(X,C),H&1&&Z!==(Z=m[0].description+"")&&Ie($,Z)},d(m){m&&f(i),N&&N.d(),O&&O.d(),m&&f(j),m&&f(M),m&&f(x),m&&f(F),m&&f(ee),m&&f(K)}}}function Ee(r){let i,e,n,s,v,a,o,h,d,u,l,_,w,S,y,g=r[1]!==null&&Pe(r);return{c(){i=E("span"),e=E("a"),n=z("\u2190 Oudere versie"),v=L(),g&&g.c(),a=L(),o=E("span"),h=E("a"),d=z("Huidige versie"),l=z(`
                (`),_=E("a"),w=z("wijz"),y=z(")"),this.h()},l(b){i=P(b,"SPAN",{});var k=R(i);e=P(k,"A",{class:!0,href:!0});var t=R(e);n=A(t,"\u2190 Oudere versie"),t.forEach(f),v=T(k),g&&g.l(k),k.forEach(f),a=T(b),o=P(b,"SPAN",{});var I=R(o);h=P(I,"A",{class:!0,href:!0});var D=R(h);d=A(D,"Huidige versie"),D.forEach(f),l=A(I,`
                (`),_=P(I,"A",{"data-test":!0,class:!0,href:!0});var V=R(_);w=A(V,"wijz"),V.forEach(f),y=A(I,")"),I.forEach(f),this.h()},h(){c(e,"class","underline"),c(e,"href",s="/revisie/"+r[2].revisionId),c(h,"class","underline"),c(h,"href",u="/revisie/"+r[0].revisionId),c(_,"data-test","show-diff-link"),c(_,"class","underline"),c(_,"href",S="/revisie/"+r[0].revisionId+"/diff/"+r[2].revisionId)},m(b,k){B(b,i,k),p(i,e),p(e,n),p(i,v),g&&g.m(i,null),B(b,a,k),B(b,o,k),p(o,h),p(h,d),p(o,l),p(o,_),p(_,w),p(o,y)},p(b,k){k&4&&s!==(s="/revisie/"+b[2].revisionId)&&c(e,"href",s),b[1]!==null?g?g.p(b,k):(g=Pe(b),g.c(),g.m(i,null)):g&&(g.d(1),g=null),k&1&&u!==(u="/revisie/"+b[0].revisionId)&&c(h,"href",u),k&5&&S!==(S="/revisie/"+b[0].revisionId+"/diff/"+b[2].revisionId)&&c(_,"href",S)},d(b){b&&f(i),g&&g.d(),b&&f(a),b&&f(o)}}}function Pe(r){let i,e,n,s,v;return{c(){i=z("("),e=E("a"),n=z("wijz"),v=z(")"),this.h()},l(a){i=A(a,"("),e=P(a,"A",{class:!0,href:!0});var o=R(e);n=A(o,"wijz"),o.forEach(f),v=A(a,")"),this.h()},h(){c(e,"class","underline"),c(e,"href",s="/revisie/"+r[2].revisionId+"/diff/"+r[1].revisionId)},m(a,o){B(a,i,o),B(a,e,o),p(e,n),B(a,v,o)},p(a,o){o&6&&s!==(s="/revisie/"+a[2].revisionId+"/diff/"+a[1].revisionId)&&c(e,"href",s)},d(a){a&&f(i),a&&f(e),a&&f(v)}}}function ze(r){let i,e,n,s,v,a,o,h,d;return{c(){i=E("span"),e=E("a"),n=z("Nieuwe versie \u2192"),v=z(`
                (`),a=E("a"),o=z("wijz"),d=z(")"),this.h()},l(u){i=P(u,"SPAN",{});var l=R(i);e=P(l,"A",{class:!0,href:!0});var _=R(e);n=A(_,"Nieuwe versie \u2192"),_.forEach(f),v=A(l,`
                (`),a=P(l,"A",{class:!0,href:!0});var w=R(a);o=A(w,"wijz"),w.forEach(f),d=A(l,")"),l.forEach(f),this.h()},h(){c(e,"class","underline"),c(e,"href",s="/revisie/"+r[3].revisionId),c(a,"class","underline"),c(a,"href",h="/revisie/"+r[3].revisionId+"/diff/"+r[0].revisionId)},m(u,l){B(u,i,l),p(i,e),p(e,n),p(i,v),p(i,a),p(a,o),p(i,d)},p(u,l){l&8&&s!==(s="/revisie/"+u[3].revisionId)&&c(e,"href",s),l&9&&h!==(h="/revisie/"+u[3].revisionId+"/diff/"+u[0].revisionId)&&c(a,"href",h)},d(u){u&&f(i)}}}function Fe(r){let i,e,n,s,v;function a(l){r[5](l)}let o={};r[0]!==void 0&&(o.revision=r[0]),i=new Ne({props:o}),J.push(()=>W(i,"revision",a));function h(l,_){return l[4]?Me:Ce}let d=h(r),u=d(r);return{c(){ue(i.$$.fragment),n=L(),u.c(),s=ne()},l(l){fe(i.$$.fragment,l),n=T(l),u.l(l),s=ne()},m(l,_){ve(i,l,_),B(l,n,_),u.m(l,_),B(l,s,_),v=!0},p(l,[_]){const w={};!e&&_&1&&(e=!0,w.revision=l[0],q(()=>e=!1)),i.$set(w),d===(d=h(l))&&u?u.p(l,_):(u.d(1),u=d(l),u&&(u.c(),u.m(s.parentNode,s)))},i(l){v||(Y(i.$$.fragment,l),v=!0)},o(l){Q(i.$$.fragment,l),v=!1},d(l){de(i,l),l&&f(n),u.d(l),l&&f(s)}}}function Je(r,i,e){let{revision:n}=i,{previousPreviousRevision:s}=i,{previousRevision:v}=i,{nextRevision:a}=i,{loading:o}=i;function h(d){n=d,e(0,n)}return r.$$set=d=>{"revision"in d&&e(0,n=d.revision),"previousPreviousRevision"in d&&e(1,s=d.previousPreviousRevision),"previousRevision"in d&&e(2,v=d.previousRevision),"nextRevision"in d&&e(3,a=d.nextRevision),"loading"in d&&e(4,o=d.loading)},[n,s,v,a,o,h]}class We extends be{constructor(i){super();ge(this,i,Je,Fe,we,{revision:0,previousPreviousRevision:1,previousRevision:2,nextRevision:3,loading:4})}}function Ae(r){let i,e,n,s,v,a,o,h,d,u;function l(t){r[11](t)}let _={title:r[1].title};r[2]!==void 0&&(_.breadcrumbs=r[2]),i=new Te({props:_}),J.push(()=>W(i,"breadcrumbs",l));function w(t){r[12](t)}function S(t){r[13](t)}function y(t){r[14](t)}function g(t){r[15](t)}function b(t){r[16](t)}let k={};return r[3]!==void 0&&(k.revision=r[3]),r[4]!==void 0&&(k.previousPreviousRevision=r[4]),r[5]!==void 0&&(k.previousRevision=r[5]),r[6]!==void 0&&(k.nextRevision=r[6]),r[7]!==void 0&&(k.loading=r[7]),s=new We({props:k}),J.push(()=>W(s,"revision",w)),J.push(()=>W(s,"previousPreviousRevision",S)),J.push(()=>W(s,"previousRevision",y)),J.push(()=>W(s,"nextRevision",g)),J.push(()=>W(s,"loading",b)),{c(){ue(i.$$.fragment),n=L(),ue(s.$$.fragment)},l(t){fe(i.$$.fragment,t),n=T(t),fe(s.$$.fragment,t)},m(t,I){ve(i,t,I),B(t,n,I),ve(s,t,I),u=!0},p(t,I){const D={};I&2&&(D.title=t[1].title),!e&&I&4&&(e=!0,D.breadcrumbs=t[2],q(()=>e=!1)),i.$set(D);const V={};!v&&I&8&&(v=!0,V.revision=t[3],q(()=>v=!1)),!a&&I&16&&(a=!0,V.previousPreviousRevision=t[4],q(()=>a=!1)),!o&&I&32&&(o=!0,V.previousRevision=t[5],q(()=>o=!1)),!h&&I&64&&(h=!0,V.nextRevision=t[6],q(()=>h=!1)),!d&&I&128&&(d=!0,V.loading=t[7],q(()=>d=!1)),s.$set(V)},i(t){u||(Y(i.$$.fragment,t),Y(s.$$.fragment,t),u=!0)},o(t){Q(i.$$.fragment,t),Q(s.$$.fragment,t),u=!1},d(t){de(i,t),t&&f(n),de(s,t)}}}function qe(r){let i,e,n=r[0]&&r[3]!==null&&r[1]&&Ae(r);return{c(){n&&n.c(),i=ne()},l(s){n&&n.l(s),i=ne()},m(s,v){n&&n.m(s,v),B(s,i,v),e=!0},p(s,[v]){s[0]&&s[3]!==null&&s[1]?n?(n.p(s,v),v&11&&Y(n,1)):(n=Ae(s),n.c(),Y(n,1),n.m(i.parentNode,i)):n&&(Ve(),Q(n,1,1,()=>{n=null}),Se())},i(s){e||(Y(n),e=!0)},o(s){Q(n),e=!1},d(s){n&&n.d(s),s&&f(i)}}}function Ge(r,i,e){let n,s;je(r,Oe,j=>e(9,n=j)),je(r,He,j=>e(10,s=j));let v,a,o=null,h=!1,d=null,u=null,l=null,_=!1,w,S;const y=async()=>{e(7,_=!0),e(5,u=null),e(6,l=null),await g(),e(7,_=!1)};async function g(){let j=a.collection("revisions").doc(n.params.id),M=await j.get();if(M.exists){e(3,o=M.data()),e(3,o.revisionId=j.id,o);let G=await a.collection("goals").doc(o.goalId).get();if(G.exists){e(1,w=G.data()),e(1,w.id=o.goalId,w);let C=Le(w.revisionList,o.revisionId);e(6,l=C.nextRevision),l!==null&&e(6,l.revisionId=l.id,l),e(5,u=C.previousRevision),u!==null&&e(5,u.revisionId=u.id,u),e(4,d=C.previousPreviousRevision),d!==null&&e(4,d.revisionId=d.id,d)}}}function b(j){S=j,e(2,S),e(1,w),e(9,n)}function k(j){o=j,e(3,o)}function t(j){d=j,e(4,d)}function I(j){u=j,e(5,u)}function D(j){l=j,e(6,l)}function V(j){_=j,e(7,_)}return r.$$.update=()=>{r.$$.dirty&518&&w&&(e(2,S=ye(w)),e(2,S=[...S,{url:n.path,value:"Revisie bekijken"}])),r.$$.dirty&1280&&(async()=>{s&&(e(8,v=s),a=await v.firestore(),e(0,h=!0),await g())})(),r.$$.dirty&513&&n.params.id&&h&&y()},[h,w,S,o,d,u,l,_,v,n,s,b,k,t,I,D,V]}class ti extends be{constructor(i){super();ge(this,i,Ge,qe,we,{})}}export{ti as default};
